(()=>{"use strict";var e;!function(e){e.default="default",e.cjkPunc="cjk-punc",e.fullwidthAlphabet="fullwidth-alphabet",e.latin="latin",e.kana="kana",e.ambiguous="ambiguous"}(e||(e={})),String.prototype.segmentise=function(t){let n,i=String(this),s=[],o=0;for(;n=t.exec(i);){let t;n.index>o&&s.push({content:i.substring(o,n.index),formatGuide:e.default}),n[1]?t=e.ambiguous:n[2]?t=e.cjkPunc:n[3]?t=e.fullwidthAlphabet:n[4]?t=e.latin:n[5]&&(t=e.kana),s.push({content:n[0],formatGuide:t}),o=n.index+n[0].length}return i.length>o&&s.push({content:i.substring(o),formatGuide:e.default}),s};class t{rootElement;shouldPcS;imitatePcS;imitateTransfromToFullWidth;shouldRemoveStyle;setElementAttributes(t,n){switch(n.formatGuide){case e.default:return void(t.innerHTML=this.postProcess(n.content));case e.latin:t.setAttribute("lang","en");break;case e.cjkPunc:this.shouldPcS&&(t.innerHTML=this.squeeze(n.content))}t.classList.add(n.formatGuide)}postProcess(e){return e.replace(/\n[ \n]*/g,'<br /><span class="indent"></span>')}format(e,t=!0){if(e.nodeType===Node.TEXT_NODE){let t=e.nodeValue;if(!t.trim())return;t=this.correctPuncs(t);let n=/([\u002f\u2013]+|――)|([\u3001\u3002\u301d\u301f\uff01\uff0c\uff1a\uff1b\uff1f\u3008-\u3011\u3014-\u301B\uff08\uff09]+)|([\uff21-\uff3a\uff41-\uff5a]+)|([\p{Script=Latin}0-9\u0020-\u0023\u0025-\u002b\u002c-\u002e\u003a\u003b\u003f\u0040\u005b-\u005d\u005f\u007b\u007d\u00a1\u00a7\u00ab\u00b2\u00b3\u00b6\u00b7\u00b9\u00bb-\u00bf\u2010-\u2012\u2018\u2019\u201c\u201d\u2020\u2021\u2026\u2027\u2030\u2032-\u2037\u2039\u203a\u203c-\u203e\u2047-\u2049\u204e\u2057\u2070\u2074-\u2079\u2080-\u2089\u2150\u2153\u2154\u215b-\u215e\u2160-\u217f\u2474-\u249b\u2e18\u2e2e]+)|([\u3041-\u309f\u30a0-\u30fa\u30fc\u30ff]+)/gu,i=t.segmentise(n),s=e.parentElement;return void(s.childElementCount||1!==i.length?(i.forEach((t=>{let n=document.createElement("span");n.innerText=t.content,this.setElementAttributes(n,t),s.insertBefore(n,e)})),s.removeChild(e)):this.setElementAttributes(s,i[0]))}if("BR"===e.nodeName)return;const n="P"===e.nodeName||"BLOCKQUOTE"===e.nodeName;Array.from(e.childNodes).forEach((e=>{this.format(e,!n&&t)}))}removeStyle(e=this.rootElement){e.removeAttribute("style"),e.removeAttribute("width"),e.removeAttribute("height"),Array.from(e.children,(e=>{this.removeStyle(e)}))}correctPuncs(e){return e.replace(/——|──/g,"――").replace(/……/g,"⋯⋯")}squeeze(e){return e.split("").map((e=>{if(/[\u3001\u3002\uff0c\uff01\uff1a\uff1b\uff1f]/.test(e))return`<span class="squeeze-other-punc">${e}</span>`;const t="〝"===e||e.charCodeAt(0)%2==0;let n=`<span class="${t?"squeeze-in":"squeeze-out"}">${e}</span>`;return this.imitatePcS?t?'<span class="squeeze-in-space"></span>'+n:n+'<span class="squeeze-out-space"></span>':n})).join("")}transfromToFullWidth(e){const t="0".charCodeAt(0),n="０".charCodeAt(0),i=e.charCodeAt(0);return String.fromCharCode(i-t+n)}tcy(t=!1){let n=document.documentElement,i=window.getComputedStyle(n).fontSize.match(/(\d+)px/)[1],s=parseInt(i);Array.from(this.rootElement.getElementsByClassName(e.latin)).forEach((n=>{const i=n.innerHTML.trim();if(!(n.previousElementSibling&&n.previousElementSibling.classList.contains(e.ambiguous)||n.nextElementSibling&&n.nextElementSibling.classList.contains(e.ambiguous))&&/^[\w\p{Script=Latin}]/u.test(i)&&"I"!=n.nodeName&&"EM"!=n.nodeName&&"I"!=n.parentElement.nodeName&&"EM"!=n.parentElement.nodeName)if(1==i.length)t?n.innerHTML=this.transfromToFullWidth(i):(n.innerHTML=i,n.classList.add("to-fullwidth")),n.classList.remove("latin"),n.removeAttribute("lang");else if(/^([A-Z]{3,10}|\d{4,10})$/.test(i))t?n.innerHTML=Array.from(i,(e=>this.transfromToFullWidth(e))).join(""):(n.innerHTML=i,n.classList.add("to-fullwidth")),n.classList.remove("latin"),n.removeAttribute("lang");else if(/^[A-Z]{2}$|^\d{2,3}$/.test(i))n.innerHTML=i,n.classList.remove("latin"),n.removeAttribute("lang"),n.classList.add("tcy");else if(/^\d{1,3}%$/.test(i)){const e=/^(\d{1,3})%$/.exec(i);let t=document.createElement("span"),s=e[1];1===s.length&&(s=this.transfromToFullWidth(s)),t.innerHTML=`<span ${1==s.length?"":'class="tcy"'}>${s}</span>&#8288;％`,n.replaceWith(t)}else{let e=s;n.innerHTML!=i?e*=1.5:e*=1.333,n.getBoundingClientRect().height<=e&&(n.innerHTML=i,n.classList.add("tcy"))}}))}correctAmbiguous(){Array.from(document.getElementsByClassName(e.ambiguous),(t=>{if("――"!==t.innerHTML)if(t.previousElementSibling&&t.nextElementSibling)if(t.previousElementSibling.classList.contains(e.latin)&&t.nextElementSibling.classList.contains(e.latin))t.classList.add("latin");else switch(t.innerHTML){case"/":t.innerHTML="／";break;case"–":t.innerHTML="―"}else t.classList.add("latin");else t.classList.add("aalt-on")}))}parse(){this.shouldRemoveStyle&&this.removeStyle(),this.rootElement.classList.add("tategaki"),this.rootElement.classList.add(this.imitatePcS?"imitate-pcs":"opentype-pcs"),this.format(this.rootElement),this.tcy(this.imitateTransfromToFullWidth),this.correctAmbiguous()}constructor(e,t=!0,n=!0,i=!0,s=!1){this.rootElement=e,this.shouldPcS=t,this.imitatePcS=n,this.imitateTransfromToFullWidth=i,this.shouldRemoveStyle=s}}var n=function(e,t,n){if(n||2===arguments.length)for(var i,s=0,o=t.length;s<o;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"},o=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},r=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function l(e){var t=function(e){return""!==e&&a.reduce((function(t,n){var i=n[0],s=n[1];if(t)return t;var o=s.exec(e);return!!o&&[i,o]}),!1)}(e);if(!t)return null;var l=t[0],c=t[1];if("searchbot"===l)return new o;var d=c[1]&&c[1].split(".").join("_").split("_").slice(0,3);d?d.length<3&&(d=n(n([],d,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-d.length),!0)):d=[];var m=d.join("."),f=function(e){for(var t=0,n=u.length;t<n;t++){var i=u[t],s=i[0];if(i[1].exec(e))return s}return null}(e),h=r.exec(e);return h&&h[1]?new s(l,m,f,h[1]):new i(l,m,f)}const c="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}:"undefined"!=typeof navigator?l(navigator.userAgent):"undefined"!=typeof process&&process.version?new function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}(process.version.slice(1)):null;c&&document.body.classList.add(c.name),Array.from(document.getElementsByClassName("tategaki")).forEach((e=>{new t(e,!0,!0,!0).parse()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RG9CLEdBQ0EvRSxTQUFTK0YsS0FBS2hILFVBQVVDLElBQUkrRixFQUFRaEIsTUFHN0J4RCxNQUFNQyxLQUFLUixTQUFTcUMsdUJBQXVCLGFBQ2pEdkMsU0FBUWtHLElBQ00sSUFBSTlILEVBQVM4SCxHQUFHLEdBQU0sR0FBTSxHQUVsQzlDLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXRlZ2FraS8uL3NyYy9mb3JtYXRTZWdtZW50LnRzIiwid2VicGFjazovL3RhdGVnYWtpLy4vc3JjL2V4dGVuc2lvbnMudHMiLCJ3ZWJwYWNrOi8vdGF0ZWdha2kvLi9zcmMvdGF0ZWdha2kudHMiLCJ3ZWJwYWNrOi8vdGF0ZWdha2kvLi9ub2RlX21vZHVsZXMvZGV0ZWN0LWJyb3dzZXIvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGF0ZWdha2kvLi9zcmMvZXh0ZXJuYWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gU3RyaW5nRm9ybWF0R3VpZGUge1xuICAgIGRlZmF1bHQgPSAnZGVmYXVsdCcsXG4gICAgY2prUHVuYyA9ICdjamstcHVuYycsXG4gICAgZnVsbHdpZHRoQWxwaGFiZXQgPSAnZnVsbHdpZHRoLWFscGhhYmV0JyxcbiAgICBsYXRpbiA9ICdsYXRpbicsXG4gICAga2FuYSA9ICdrYW5hJyxcbiAgICBhbWJpZ3VvdXMgPSAnYW1iaWd1b3VzJyxcbn1cblxuZXhwb3J0IHR5cGUgU3RyaW5nRm9ybWF0U2VnbWVudCA9IHtcbiAgICBjb250ZW50OiBzdHJpbmdcbiAgICBmb3JtYXRHdWlkZTogU3RyaW5nRm9ybWF0R3VpZGVcbn1cbiIsImltcG9ydCB7IFN0cmluZ0Zvcm1hdFNlZ21lbnQsIFN0cmluZ0Zvcm1hdEd1aWRlIH0gZnJvbSAnLi9mb3JtYXRTZWdtZW50J1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgaW50ZXJmYWNlIFN0cmluZyB7XG4gICAgICAgIHNlZ21lbnRpc2UocmU6IFJlZ0V4cCk6IFN0cmluZ0Zvcm1hdFNlZ21lbnRbXVxuICAgIH1cbn1cblxuU3RyaW5nLnByb3RvdHlwZS5zZWdtZW50aXNlID0gZnVuY3Rpb24gKHJlKSB7XG4gICAgbGV0IHN0ciA9IFN0cmluZyh0aGlzKSBcbiAgICBsZXQgc2VnbWVudHM6IFN0cmluZ0Zvcm1hdFNlZ21lbnRbXSA9IFtdXG4gICAgbGV0IGluZGV4OiBudW1iZXIgPSAwXG4gICAgbGV0IG1hdGNoOiBSZWdFeHBFeGVjQXJyYXkgfCBudWxsXG4gICAgd2hpbGUgKG1hdGNoID0gcmUuZXhlYyhzdHIpKSB7XG4gICAgICAgIGlmIChtYXRjaC5pbmRleCA+IGluZGV4KSB7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiBzdHIuc3Vic3RyaW5nKGluZGV4LCBtYXRjaC5pbmRleCksXG4gICAgICAgICAgICAgICAgZm9ybWF0R3VpZGU6IFN0cmluZ0Zvcm1hdEd1aWRlLmRlZmF1bHRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZm9ybWF0R3VpZGU6IFN0cmluZ0Zvcm1hdEd1aWRlXG4gICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgZm9ybWF0R3VpZGUgPSBTdHJpbmdGb3JtYXRHdWlkZS5hbWJpZ3VvdXNcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFsyXSkge1xuICAgICAgICAgICAgZm9ybWF0R3VpZGUgPSBTdHJpbmdGb3JtYXRHdWlkZS5jamtQdW5jXG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgIGZvcm1hdEd1aWRlID0gU3RyaW5nRm9ybWF0R3VpZGUuZnVsbHdpZHRoQWxwaGFiZXRcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFs0XSkge1xuICAgICAgICAgICAgZm9ybWF0R3VpZGUgPSBTdHJpbmdGb3JtYXRHdWlkZS5sYXRpblxuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoWzVdKSB7XG4gICAgICAgICAgICBmb3JtYXRHdWlkZSA9IFN0cmluZ0Zvcm1hdEd1aWRlLmthbmFcbiAgICAgICAgfVxuXG4gICAgICAgIHNlZ21lbnRzLnB1c2goe1xuICAgICAgICAgICAgY29udGVudDogbWF0Y2hbMF0sXG4gICAgICAgICAgICBmb3JtYXRHdWlkZTogZm9ybWF0R3VpZGVcbiAgICAgICAgfSlcbiAgICAgICAgaW5kZXggPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aFxuICAgIH1cbiAgICBcbiAgICBpZiAoc3RyLmxlbmd0aCA+IGluZGV4KSB7XG4gICAgICAgIHNlZ21lbnRzLnB1c2goe1xuICAgICAgICAgICAgY29udGVudDogc3RyLnN1YnN0cmluZyhpbmRleCksXG4gICAgICAgICAgICBmb3JtYXRHdWlkZTogU3RyaW5nRm9ybWF0R3VpZGUuZGVmYXVsdFxuICAgICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudHNcbn1cbiIsImltcG9ydCB7IFN0cmluZ0Zvcm1hdFNlZ21lbnQsIFN0cmluZ0Zvcm1hdEd1aWRlIH0gZnJvbSAnLi9mb3JtYXRTZWdtZW50J1xuaW1wb3J0ICcuL2V4dGVuc2lvbnMnXG5cblxuZXhwb3J0IGNsYXNzIFRhdGVnYWtpIHtcbiAgICByb290RWxlbWVudDogRWxlbWVudFxuXG4gICAgc2hvdWxkUGNTOiBib29sZWFuXG4gICAgaW1pdGF0ZVBjUzogYm9vbGVhblxuICAgIGltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aDogYm9vbGVhblxuICAgIHNob3VsZFJlbW92ZVN0eWxlOiBib29sZWFuXG4gICAgXG5cbiAgICBwcml2YXRlIHNldEVsZW1lbnRBdHRyaWJ1dGVzKGVsZW1lbnQ6IEVsZW1lbnQsIHNlZ21lbnQ6IFN0cmluZ0Zvcm1hdFNlZ21lbnQpIHtcbiAgICAgICAgc3dpdGNoKHNlZ21lbnQuZm9ybWF0R3VpZGUpIHtcbiAgICAgICAgICAgIGNhc2UgU3RyaW5nRm9ybWF0R3VpZGUuZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gIHRoaXMucG9zdFByb2Nlc3Moc2VnbWVudC5jb250ZW50KVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTdHJpbmdGb3JtYXRHdWlkZS5sYXRpbjoge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdsYW5nJywgJ2VuJylcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTdHJpbmdGb3JtYXRHdWlkZS5jamtQdW5jOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkUGNTKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5zcXVlZXplKHNlZ21lbnQuY29udGVudClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChzZWdtZW50LmZvcm1hdEd1aWRlKVxuICAgIH1cblxuICAgIHByaXZhdGUgcG9zdFByb2Nlc3ModGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRleHRcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG5bIFxcbl0qL2csIGA8YnIgLz48c3BhbiBjbGFzcz1cImluZGVudFwiPjwvc3Bhbj5gKVxuICAgIH1cblxuICAgIHByaXZhdGUgZm9ybWF0KG5vZGU6IE5vZGUsIHBhc3NVbnRpbFBhcmE6IGJvb2xlYW49dHJ1ZSkge1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gbm9kZS5ub2RlVmFsdWUhXG4gICAgICAgICAgICBpZiAoIXRleHQudHJpbSgpKSB7IHJldHVybiB9XG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy5jb3JyZWN0UHVuY3ModGV4dClcblxuICAgICAgICAgICAgLy8gKEFNQklHVU9VUyl8KENKS19QVU5DKXwoRlVMTF9XSURUSF9BTFBIQUJFVCl8KExBVElOKXwoS0FOQSlcbiAgICAgICAgICAgIGxldCByZSA9IC8oW1xcdTAwMmZcXHUyMDEzXSt84oCV4oCVKXwoW1xcdTMwMDFcXHUzMDAyXFx1MzAxZFxcdTMwMWZcXHVmZjAxXFx1ZmYwY1xcdWZmMWFcXHVmZjFiXFx1ZmYxZlxcdTMwMDgtXFx1MzAxMVxcdTMwMTQtXFx1MzAxQlxcdWZmMDhcXHVmZjA5XSspfChbXFx1ZmYyMS1cXHVmZjNhXFx1ZmY0MS1cXHVmZjVhXSspfChbXFxwe1NjcmlwdD1MYXRpbn0wLTlcXHUwMDIwLVxcdTAwMjNcXHUwMDI1LVxcdTAwMmJcXHUwMDJjLVxcdTAwMmVcXHUwMDNhXFx1MDAzYlxcdTAwM2ZcXHUwMDQwXFx1MDA1Yi1cXHUwMDVkXFx1MDA1ZlxcdTAwN2JcXHUwMDdkXFx1MDBhMVxcdTAwYTdcXHUwMGFiXFx1MDBiMlxcdTAwYjNcXHUwMGI2XFx1MDBiN1xcdTAwYjlcXHUwMGJiLVxcdTAwYmZcXHUyMDEwLVxcdTIwMTJcXHUyMDE4XFx1MjAxOVxcdTIwMWNcXHUyMDFkXFx1MjAyMFxcdTIwMjFcXHUyMDI2XFx1MjAyN1xcdTIwMzBcXHUyMDMyLVxcdTIwMzdcXHUyMDM5XFx1MjAzYVxcdTIwM2MtXFx1MjAzZVxcdTIwNDctXFx1MjA0OVxcdTIwNGVcXHUyMDU3XFx1MjA3MFxcdTIwNzQtXFx1MjA3OVxcdTIwODAtXFx1MjA4OVxcdTIxNTBcXHUyMTUzXFx1MjE1NFxcdTIxNWItXFx1MjE1ZVxcdTIxNjAtXFx1MjE3ZlxcdTI0NzQtXFx1MjQ5YlxcdTJlMThcXHUyZTJlXSspfChbXFx1MzA0MS1cXHUzMDlmXFx1MzBhMC1cXHUzMGZhXFx1MzBmY1xcdTMwZmZdKykvZ3VcblxuICAgICAgICAgICAgbGV0IHNlZ21lbnRzID0gdGV4dC5zZWdtZW50aXNlKHJlKVxuXG4gICAgICAgICAgICBsZXQgcGFyZW50RWxlbWVudCA9IG5vZGUucGFyZW50RWxlbWVudFxuICAgICAgICAgICAgaWYgKCFwYXJlbnRFbGVtZW50LmNoaWxkRWxlbWVudENvdW50ICYmIHNlZ21lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudEF0dHJpYnV0ZXMocGFyZW50RWxlbWVudCwgc2VnbWVudHNbMF0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLmZvckVhY2goc2VnbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgICAgICAgICAgICAgIHN1YkVsZW1lbnQuaW5uZXJUZXh0ID0gc2VnbWVudC5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudEF0dHJpYnV0ZXMoc3ViRWxlbWVudCwgc2VnbWVudClcblxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShzdWJFbGVtZW50LCBub2RlKVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKG5vZGUpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT09ICdCUicpIHsgcmV0dXJuIH1cbiAgICAgICAgY29uc3QgaXNQYXJhID0gbm9kZS5ub2RlTmFtZSA9PT0gJ1AnIHx8IG5vZGUubm9kZU5hbWUgPT09ICdCTE9DS1FVT1RFJ1xuXG4gICAgICAgIGxldCBjaGlsZE5vZGVzID0gQXJyYXkuZnJvbShub2RlLmNoaWxkTm9kZXMpXG4gICAgICAgIGNoaWxkTm9kZXMuZm9yRWFjaChjaGlsZE5vZGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb3JtYXQoY2hpbGROb2RlLCBpc1BhcmEgPyBmYWxzZSA6IHBhc3NVbnRpbFBhcmEpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVTdHlsZShlbGVtZW50OiBFbGVtZW50PXRoaXMucm9vdEVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3dpZHRoJylcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2hlaWdodCcpXG5cbiAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkcmVuLCBjaGlsZCA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVN0eWxlKGNoaWxkKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vIFJhdyByZXBsYWNlbWVudHMgZm9yIHNwZWNpZmljIHB1bmNzICYgc3ltYm9sc1xuICAgIHByaXZhdGUgY29ycmVjdFB1bmNzKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0ZXh0XG4gICAgICAgICAgICAucmVwbGFjZSgv4oCU4oCUfOKUgOKUgC9nLCAn4oCV4oCVJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC/igKbigKYvZywgJ+KLr+KLrycpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcXVlZXplKHB1bmNzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gcHVuY3Muc3BsaXQoJycpLm1hcChwdW5jID0+IHtcbiAgICAgICAgICAgIGlmICgvW1xcdTMwMDFcXHUzMDAyXFx1ZmYwY1xcdWZmMDFcXHVmZjFhXFx1ZmYxYlxcdWZmMWZdLy50ZXN0KHB1bmMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cInNxdWVlemUtb3RoZXItcHVuY1wiPiR7cHVuY308L3NwYW4+YFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpc09wZW5pbmdCcmFja2V0ID0gcHVuYyA9PT0gJ1xcdTMwMWQnIHx8IHB1bmMuY2hhckNvZGVBdCgwKSAlIDIgPT09IDBcbiAgICAgICAgICAgIGNvbnN0IHNxdWVlemVDbGFzcyA9IGlzT3BlbmluZ0JyYWNrZXQgPyAnc3F1ZWV6ZS1pbicgOiAnc3F1ZWV6ZS1vdXQnXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYDxzcGFuIGNsYXNzPVwiJHtzcXVlZXplQ2xhc3N9XCI+JHtwdW5jfTwvc3Bhbj5gXG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pbWl0YXRlUGNTKSB7IHJldHVybiByZXN1bHQgfVxuXG4gICAgICAgICAgICBpZiAoaXNPcGVuaW5nQnJhY2tldCkge1xuICAgICAgICAgICAgICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cInNxdWVlemUtaW4tc3BhY2VcIj48L3NwYW4+YCArIHJlc3VsdCBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ICsgYDxzcGFuIGNsYXNzPVwic3F1ZWV6ZS1vdXQtc3BhY2VcIj48L3NwYW4+YFxuICAgICAgICAgICAgfVxuICAgICAgICB9KS5qb2luKCcnKVxuICAgIH1cblxuICAgIC8vIFNpbmNlIG5vdCBhbGwgYnJvd3NlciBzdXBwb3J0IGZ1bGwtd2lkdGggdHJhbnNmb3JtYXRpb24sXG4gICAgLy8gaXQnbGwgZG8gc29tZSB1bmljb2RlIGNhbGMgdG8gZG8gdGhhdC5cbiAgICAvLyBEZWx0YSBiZXR3ZWVuIGNvZGVzIG9mIGNoYXJhY3RlcnMgaW4gZnVsbC13aWR0aCBpcyBhcyBzYW1lIFxuICAgIC8vIGFzIEFTQ0lJLCBzbyBjaG9vc2UgemVybyBhcyBiYXNlIGZvciBjYWxjdWxhdGlvblxuICAgIHByaXZhdGUgdHJhbnNmcm9tVG9GdWxsV2lkdGgoeDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgYmFzZSA9ICcwJy5jaGFyQ29kZUF0KDApXG4gICAgICAgIGNvbnN0IG5ld0Jhc2UgPSAnXFx1ZmYxMCcuY2hhckNvZGVBdCgwKVxuICAgICAgICBjb25zdCBjdXJyZW50ID0geC5jaGFyQ29kZUF0KDApXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGN1cnJlbnQgLSBiYXNlICsgbmV3QmFzZSlcbiAgICB9XG5cbiAgICAvLyBZb2tvZ2FraSBpbiBUYXRlZ2FraSAoVGF0ZWdha2ktQ2h5dS1Zb2tvZ2FraSlcbiAgICBwcml2YXRlIHRjeShpbWl0YXRlVHJhbnNmcm9tVG9GdWxsV2lkdGg6IGJvb2xlYW49ZmFsc2UpIHtcbiAgICAgICAgbGV0IGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgICAgICBsZXQgZm9udFNpemVSYXcgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudEVsZW1lbnQpLmZvbnRTaXplLm1hdGNoKC8oXFxkKylweC8pWzFdXG4gICAgICAgIGxldCBmb250U2l6ZSA9IHBhcnNlSW50KGZvbnRTaXplUmF3KVxuXG4gICAgICAgIGxldCBlbGVtZW50cyA9IEFycmF5LmZyb20odGhpcy5yb290RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFN0cmluZ0Zvcm1hdEd1aWRlLmxhdGluKSlcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBlbGVtZW50LmlubmVySFRNTC50cmltKClcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgXG4gICAgICAgICAgICAgICAgZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucyhTdHJpbmdGb3JtYXRHdWlkZS5hbWJpZ3VvdXMpIHx8IFxuICAgICAgICAgICAgICAgIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nICYmXG4gICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKFN0cmluZ0Zvcm1hdEd1aWRlLmFtYmlndW91cykpIHsgcmV0dXJuIH1cblxuICAgICAgICAgICAgaWYgKC9eW1xcd1xccHtTY3JpcHQ9TGF0aW59XS91LnRlc3QodGV4dCkgJiYgXG4gICAgICAgICAgICAgICAgZWxlbWVudC5ub2RlTmFtZSAhPSAnSScgJiYgXG4gICAgICAgICAgICAgICAgZWxlbWVudC5ub2RlTmFtZSAhPSAnRU0nICYmXG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50Lm5vZGVOYW1lICE9ICdJJyAmJlxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5ub2RlTmFtZSAhPSAnRU0nKSB7XG4gICAgICAgICAgICAgICAgLy8gV29yZHMgd2l0aCBvbmx5IG9uZSBsZXR0cmUgc2hvdWxkIHR1cm4gdG8gZnVsbC13aWR0aFxuICAgICAgICAgICAgICAgIC8vIGFuZCBsb3NlIGBsYXRpbmAgY2xhc3NcbiAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRoaXMudHJhbnNmcm9tVG9GdWxsV2lkdGgodGV4dClcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0by1mdWxsd2lkdGgnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbGF0aW4nKVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnbGFuZycpXG4gICAgICAgICAgICAgICAgLy8gQWJicmV2aWF0aW9ucyBhbmQgbnVtYmVycyBubyBtb3JlIHRoYW4gNCBkaWdpdHMgc2hvdWxkXG4gICAgICAgICAgICAgICAgLy8gdHVybiB0byBmdWxsLXdpZHRoXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXihbQS1aXXszLDEwfXxcXGR7NCwxMH0pJC8udGVzdCh0ZXh0KSkgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBBcnJheS5mcm9tKHRleHQsIHggPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zyb21Ub0Z1bGxXaWR0aCh4KSkuam9pbignJylcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0by1mdWxsd2lkdGgnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbGF0aW4nKVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnbGFuZycpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXltBLVpdezJ9JHxeXFxkezIsM30kLy50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2xhdGluJylcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2xhbmcnKVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RjeScpXG4gICAgICAgICAgICAgICAgLy8gUGVyY2VudGFnZVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL15cXGR7MSwzfSUkLy50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSAvXihcXGR7MSwzfSklJC8uZXhlYyh0ZXh0KVxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgICAgICAgICAgICAgICAgICBsZXQgZGlnaXQgPSBtYXRjaGVzWzFdXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWdpdC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2l0ID0gdGhpcy50cmFuc2Zyb21Ub0Z1bGxXaWR0aChkaWdpdClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmlubmVySFRNTCA9IGA8c3BhbiAke2RpZ2l0Lmxlbmd0aCA9PSAxID8gJycgOiAnY2xhc3M9XCJ0Y3lcIid9PiR7ZGlnaXR9PC9zcGFuPiYjODI4ODvvvIVgXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgobmV3RWxlbWVudClcbiAgICAgICAgICAgICAgICAvLyBNZWFzdXJlIGhlaWdodCBvZiB0aGUgZWxlbWVudCB0byBkZWNpZGUgaWYgVENZXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRocmVzaG9sZCA9IGZvbnRTaXplXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmlubmVySFRNTCAhPSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZWVkIGFkanVzdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkICo9IDEuNVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkICo9IDEuMzMzXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgPD0gdGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGN5JylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvcnJlY3RBbWJpZ3VvdXMoKSB7XG4gICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShTdHJpbmdGb3JtYXRHdWlkZS5hbWJpZ3VvdXMpLCBlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmlubmVySFRNTCA9PT0gJ+KAleKAlScpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FhbHQtb24nKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZyB8fCAhZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2xhdGluJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoU3RyaW5nRm9ybWF0R3VpZGUubGF0aW4pICYmXG4gICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKFN0cmluZ0Zvcm1hdEd1aWRlLmxhdGluKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbGF0aW4nKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2goZWxlbWVudC5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgICBjYXNlICcvJzoge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICfvvI8nXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ+KAkyc6IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAn4oCVJ1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwYXJzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkUmVtb3ZlU3R5bGUpIHsgdGhpcy5yZW1vdmVTdHlsZSgpIH1cblxuICAgICAgICB0aGlzLnJvb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RhdGVnYWtpJylcbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuaW1pdGF0ZVBjUyA/ICdpbWl0YXRlLXBjcycgOiAnb3BlbnR5cGUtcGNzJylcblxuICAgICAgICB0aGlzLmZvcm1hdCh0aGlzLnJvb3RFbGVtZW50KVxuXG4gICAgICAgIHRoaXMudGN5KHRoaXMuaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoKVxuXG4gICAgICAgIHRoaXMuY29ycmVjdEFtYmlndW91cygpXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Iocm9vdEVsZW1lbnQ6IEVsZW1lbnQsIFxuICAgICAgICAgICAgICAgIHNob3VsZFBjUzogYm9vbGVhbj10cnVlLCBpbWl0YXRlUGNTOiBib29sZWFuPXRydWUsIFxuICAgICAgICAgICAgICAgIGltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aDogYm9vbGVhbj10cnVlLFxuICAgICAgICAgICAgICAgIHNob3VsZFJlbW92ZVN0eWxlOiBib29sZWFuPWZhbHNlKSB7XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQgPSByb290RWxlbWVudFxuICAgICAgICB0aGlzLnNob3VsZFBjUyA9IHNob3VsZFBjU1xuICAgICAgICB0aGlzLmltaXRhdGVQY1MgPSBpbWl0YXRlUGNTXG4gICAgICAgIHRoaXMuaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoID0gaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoXG4gICAgICAgIHRoaXMuc2hvdWxkUmVtb3ZlU3R5bGUgPSBzaG91bGRSZW1vdmVTdHlsZVxuICAgIH1cbn1cbiIsInZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbnZhciBCcm93c2VySW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VySW5mbyhuYW1lLCB2ZXJzaW9uLCBvcykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLm9zID0gb3M7XG4gICAgICAgIHRoaXMudHlwZSA9ICdicm93c2VyJztcbiAgICB9XG4gICAgcmV0dXJuIEJyb3dzZXJJbmZvO1xufSgpKTtcbmV4cG9ydCB7IEJyb3dzZXJJbmZvIH07XG52YXIgTm9kZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9kZUluZm8odmVyc2lvbikge1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm9kZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdub2RlJztcbiAgICAgICAgdGhpcy5vcyA9IHByb2Nlc3MucGxhdGZvcm07XG4gICAgfVxuICAgIHJldHVybiBOb2RlSW5mbztcbn0oKSk7XG5leHBvcnQgeyBOb2RlSW5mbyB9O1xudmFyIFNlYXJjaEJvdERldmljZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VhcmNoQm90RGV2aWNlSW5mbyhuYW1lLCB2ZXJzaW9uLCBvcywgYm90KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMub3MgPSBvcztcbiAgICAgICAgdGhpcy5ib3QgPSBib3Q7XG4gICAgICAgIHRoaXMudHlwZSA9ICdib3QtZGV2aWNlJztcbiAgICB9XG4gICAgcmV0dXJuIFNlYXJjaEJvdERldmljZUluZm87XG59KCkpO1xuZXhwb3J0IHsgU2VhcmNoQm90RGV2aWNlSW5mbyB9O1xudmFyIEJvdEluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm90SW5mbygpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ2JvdCc7XG4gICAgICAgIHRoaXMuYm90ID0gdHJ1ZTsgLy8gTk9URTogZGVwcmVjYXRlZCB0ZXN0IG5hbWUgaW5zdGVhZFxuICAgICAgICB0aGlzLm5hbWUgPSAnYm90JztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBCb3RJbmZvO1xufSgpKTtcbmV4cG9ydCB7IEJvdEluZm8gfTtcbnZhciBSZWFjdE5hdGl2ZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVhY3ROYXRpdmVJbmZvKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSAncmVhY3QtbmF0aXZlJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ3JlYWN0LW5hdGl2ZSc7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub3MgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3ROYXRpdmVJbmZvO1xufSgpKTtcbmV4cG9ydCB7IFJlYWN0TmF0aXZlSW5mbyB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxudmFyIFNFQVJDSEJPWF9VQV9SRUdFWCA9IC9hbGV4YXxib3R8Y3Jhd2woZXJ8aW5nKXxmYWNlYm9va2V4dGVybmFsaGl0fGZlZWRidXJuZXJ8Z29vZ2xlIHdlYiBwcmV2aWV3fG5hZ2lvc3xwb3N0cmFua3xwaW5nZG9tfHNsdXJwfHNwaWRlcnx5YWhvbyF8eWFuZGV4LztcbnZhciBTRUFSQ0hCT1RfT1NfUkVHRVggPSAvKG51aGt8Y3VybHxHb29nbGVib3R8WWFtbXlib3R8T3BlbmJvdHxTbHVycHxNU05Cb3R8QXNrXFwgSmVldmVzXFwvVGVvbWF8aWFfYXJjaGl2ZXIpLztcbnZhciBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTID0gMztcbnZhciB1c2VyQWdlbnRSdWxlcyA9IFtcbiAgICBbJ2FvbCcsIC9BT0xTaGllbGRcXC8oWzAtOVxcLl9dKykvXSxcbiAgICBbJ2VkZ2UnLCAvRWRnZVxcLyhbMC05XFwuX10rKS9dLFxuICAgIFsnZWRnZS1pb3MnLCAvRWRnaU9TXFwvKFswLTlcXC5fXSspL10sXG4gICAgWyd5YW5kZXhicm93c2VyJywgL1lhQnJvd3NlclxcLyhbMC05XFwuX10rKS9dLFxuICAgIFsna2FrYW90YWxrJywgL0tBS0FPVEFMS1xccyhbMC05XFwuXSspL10sXG4gICAgWydzYW1zdW5nJywgL1NhbXN1bmdCcm93c2VyXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ3NpbGsnLCAvXFxiU2lsa1xcLyhbMC05Ll8tXSspXFxiL10sXG4gICAgWydtaXVpJywgL01pdWlCcm93c2VyXFwvKFswLTlcXC5dKykkL10sXG4gICAgWydiZWFrZXInLCAvQmVha2VyQnJvd3NlclxcLyhbMC05XFwuXSspL10sXG4gICAgWydlZGdlLWNocm9taXVtJywgL0VkZ0E/XFwvKFswLTlcXC5dKykvXSxcbiAgICBbXG4gICAgICAgICdjaHJvbWl1bS13ZWJ2aWV3JyxcbiAgICAgICAgLyg/IUNocm9tLipPUFIpd3ZcXCkuKkNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvLFxuICAgIF0sXG4gICAgWydjaHJvbWUnLCAvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydwaGFudG9tanMnLCAvUGhhbnRvbUpTXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2NyaW9zJywgL0NyaU9TXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2ZpcmVmb3gnLCAvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sXG4gICAgWydmeGlvcycsIC9GeGlPU1xcLyhbMC05XFwuXSspL10sXG4gICAgWydvcGVyYS1taW5pJywgL09wZXJhIE1pbmkuKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnb3BlcmEnLCAvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxuICAgIFsnb3BlcmEnLCAvT1BSXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2llJywgL1RyaWRlbnRcXC83XFwuMC4qcnZcXDooWzAtOVxcLl0rKS4qXFwpLipHZWNrbyQvXSxcbiAgICBbJ2llJywgL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wL10sXG4gICAgWydpZScsIC9NU0lFXFxzKDdcXC4wKS9dLFxuICAgIFsnYmIxMCcsIC9CQjEwO1xcc1RvdWNoLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ2FuZHJvaWQnLCAvQW5kcm9pZFxccyhbMC05XFwuXSspL10sXG4gICAgWydpb3MnLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi9dLFxuICAgIFsnc2FmYXJpJywgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKlNhZmFyaS9dLFxuICAgIFsnZmFjZWJvb2snLCAvRkJbQVNdVlxcLyhbMC05XFwuXSspL10sXG4gICAgWydpbnN0YWdyYW0nLCAvSW5zdGFncmFtXFxzKFswLTlcXC5dKykvXSxcbiAgICBbJ2lvcy13ZWJ2aWV3JywgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKk1vYmlsZS9dLFxuICAgIFsnaW9zLXdlYnZpZXcnLCAvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qR2Vja29cXCkkL10sXG4gICAgWydjdXJsJywgL15jdXJsXFwvKFswLTlcXC5dKykkL10sXG4gICAgWydzZWFyY2hib3QnLCBTRUFSQ0hCT1hfVUFfUkVHRVhdLFxuXTtcbnZhciBvcGVyYXRpbmdTeXN0ZW1SdWxlcyA9IFtcbiAgICBbJ2lPUycsIC9pUChob25lfG9kfGFkKS9dLFxuICAgIFsnQW5kcm9pZCBPUycsIC9BbmRyb2lkL10sXG4gICAgWydCbGFja0JlcnJ5IE9TJywgL0JsYWNrQmVycnl8QkIxMC9dLFxuICAgIFsnV2luZG93cyBNb2JpbGUnLCAvSUVNb2JpbGUvXSxcbiAgICBbJ0FtYXpvbiBPUycsIC9LaW5kbGUvXSxcbiAgICBbJ1dpbmRvd3MgMy4xMScsIC9XaW4xNi9dLFxuICAgIFsnV2luZG93cyA5NScsIC8oV2luZG93cyA5NSl8KFdpbjk1KXwoV2luZG93c185NSkvXSxcbiAgICBbJ1dpbmRvd3MgOTgnLCAvKFdpbmRvd3MgOTgpfChXaW45OCkvXSxcbiAgICBbJ1dpbmRvd3MgMjAwMCcsIC8oV2luZG93cyBOVCA1LjApfChXaW5kb3dzIDIwMDApL10sXG4gICAgWydXaW5kb3dzIFhQJywgLyhXaW5kb3dzIE5UIDUuMSl8KFdpbmRvd3MgWFApL10sXG4gICAgWydXaW5kb3dzIFNlcnZlciAyMDAzJywgLyhXaW5kb3dzIE5UIDUuMikvXSxcbiAgICBbJ1dpbmRvd3MgVmlzdGEnLCAvKFdpbmRvd3MgTlQgNi4wKS9dLFxuICAgIFsnV2luZG93cyA3JywgLyhXaW5kb3dzIE5UIDYuMSkvXSxcbiAgICBbJ1dpbmRvd3MgOCcsIC8oV2luZG93cyBOVCA2LjIpL10sXG4gICAgWydXaW5kb3dzIDguMScsIC8oV2luZG93cyBOVCA2LjMpL10sXG4gICAgWydXaW5kb3dzIDEwJywgLyhXaW5kb3dzIE5UIDEwLjApL10sXG4gICAgWydXaW5kb3dzIE1FJywgL1dpbmRvd3MgTUUvXSxcbiAgICBbJ09wZW4gQlNEJywgL09wZW5CU0QvXSxcbiAgICBbJ1N1biBPUycsIC9TdW5PUy9dLFxuICAgIFsnQ2hyb21lIE9TJywgL0NyT1MvXSxcbiAgICBbJ0xpbnV4JywgLyhMaW51eCl8KFgxMSkvXSxcbiAgICBbJ01hYyBPUycsIC8oTWFjX1Bvd2VyUEMpfChNYWNpbnRvc2gpL10sXG4gICAgWydRTlgnLCAvUU5YL10sXG4gICAgWydCZU9TJywgL0JlT1MvXSxcbiAgICBbJ09TLzInLCAvT1NcXC8yL10sXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdCh1c2VyQWdlbnQpIHtcbiAgICBpZiAoISF1c2VyQWdlbnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXNlckFnZW50KHVzZXJBZ2VudCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVhY3ROYXRpdmVJbmZvKCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gcGFyc2VVc2VyQWdlbnQobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgfVxuICAgIHJldHVybiBnZXROb2RlVmVyc2lvbigpO1xufVxuZnVuY3Rpb24gbWF0Y2hVc2VyQWdlbnQodWEpIHtcbiAgICAvLyBvcHRlZCBmb3IgdXNpbmcgcmVkdWNlIGhlcmUgcmF0aGVyIHRoYW4gQXJyYXkjZmlyc3Qgd2l0aCBhIHJlZ2V4LnRlc3QgY2FsbFxuICAgIC8vIHRoaXMgaXMgcHJpbWFyaWx5IGJlY2F1c2UgdXNpbmcgdGhlIHJlZHVjZSB3ZSBvbmx5IHBlcmZvcm0gdGhlIHJlZ2V4XG4gICAgLy8gZXhlY3V0aW9uIG9uY2UgcmF0aGVyIHRoYW4gb25jZSBmb3IgdGhlIHRlc3QgYW5kIGZvciB0aGUgZXhlYyBhZ2FpbiBiZWxvd1xuICAgIC8vIHByb2JhYmx5IHNvbWV0aGluZyB0aGF0IG5lZWRzIHRvIGJlIGJlbmNobWFya2VkIHRob3VnaFxuICAgIHJldHVybiAodWEgIT09ICcnICYmXG4gICAgICAgIHVzZXJBZ2VudFJ1bGVzLnJlZHVjZShmdW5jdGlvbiAobWF0Y2hlZCwgX2EpIHtcbiAgICAgICAgICAgIHZhciBicm93c2VyID0gX2FbMF0sIHJlZ2V4ID0gX2FbMV07XG4gICAgICAgICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHVhTWF0Y2ggPSByZWdleC5leGVjKHVhKTtcbiAgICAgICAgICAgIHJldHVybiAhIXVhTWF0Y2ggJiYgW2Jyb3dzZXIsIHVhTWF0Y2hdO1xuICAgICAgICB9LCBmYWxzZSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJyb3dzZXJOYW1lKHVhKSB7XG4gICAgdmFyIGRhdGEgPSBtYXRjaFVzZXJBZ2VudCh1YSk7XG4gICAgcmV0dXJuIGRhdGEgPyBkYXRhWzBdIDogbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVzZXJBZ2VudCh1YSkge1xuICAgIHZhciBtYXRjaGVkUnVsZSA9IG1hdGNoVXNlckFnZW50KHVhKTtcbiAgICBpZiAoIW1hdGNoZWRSdWxlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgbmFtZSA9IG1hdGNoZWRSdWxlWzBdLCBtYXRjaCA9IG1hdGNoZWRSdWxlWzFdO1xuICAgIGlmIChuYW1lID09PSAnc2VhcmNoYm90Jykge1xuICAgICAgICByZXR1cm4gbmV3IEJvdEluZm8oKTtcbiAgICB9XG4gICAgLy8gRG8gbm90IHVzZSBSZWdFeHAgZm9yIHNwbGl0IG9wZXJhdGlvbiBhcyBzb21lIGJyb3dzZXIgZG8gbm90IHN1cHBvcnQgaXQgKFNlZTogaHR0cDovL2Jsb2cuc3RldmVubGV2aXRoYW4uY29tL2FyY2hpdmVzL2Nyb3NzLWJyb3dzZXItc3BsaXQpXG4gICAgdmFyIHZlcnNpb25QYXJ0cyA9IG1hdGNoWzFdICYmIG1hdGNoWzFdLnNwbGl0KCcuJykuam9pbignXycpLnNwbGl0KCdfJykuc2xpY2UoMCwgMyk7XG4gICAgaWYgKHZlcnNpb25QYXJ0cykge1xuICAgICAgICBpZiAodmVyc2lvblBhcnRzLmxlbmd0aCA8IFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMpIHtcbiAgICAgICAgICAgIHZlcnNpb25QYXJ0cyA9IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgdmVyc2lvblBhcnRzLCB0cnVlKSwgY3JlYXRlVmVyc2lvblBhcnRzKFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMgLSB2ZXJzaW9uUGFydHMubGVuZ3RoKSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZlcnNpb25QYXJ0cyA9IFtdO1xuICAgIH1cbiAgICB2YXIgdmVyc2lvbiA9IHZlcnNpb25QYXJ0cy5qb2luKCcuJyk7XG4gICAgdmFyIG9zID0gZGV0ZWN0T1ModWEpO1xuICAgIHZhciBzZWFyY2hCb3RNYXRjaCA9IFNFQVJDSEJPVF9PU19SRUdFWC5leGVjKHVhKTtcbiAgICBpZiAoc2VhcmNoQm90TWF0Y2ggJiYgc2VhcmNoQm90TWF0Y2hbMV0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWFyY2hCb3REZXZpY2VJbmZvKG5hbWUsIHZlcnNpb24sIG9zLCBzZWFyY2hCb3RNYXRjaFsxXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQnJvd3NlckluZm8obmFtZSwgdmVyc2lvbiwgb3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdE9TKHVhKSB7XG4gICAgZm9yICh2YXIgaWkgPSAwLCBjb3VudCA9IG9wZXJhdGluZ1N5c3RlbVJ1bGVzLmxlbmd0aDsgaWkgPCBjb3VudDsgaWkrKykge1xuICAgICAgICB2YXIgX2EgPSBvcGVyYXRpbmdTeXN0ZW1SdWxlc1tpaV0sIG9zID0gX2FbMF0sIHJlZ2V4ID0gX2FbMV07XG4gICAgICAgIHZhciBtYXRjaCA9IHJlZ2V4LmV4ZWModWEpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBvcztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVmVyc2lvbigpIHtcbiAgICB2YXIgaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MudmVyc2lvbjtcbiAgICByZXR1cm4gaXNOb2RlID8gbmV3IE5vZGVJbmZvKHByb2Nlc3MudmVyc2lvbi5zbGljZSgxKSkgOiBudWxsO1xufVxuZnVuY3Rpb24gY3JlYXRlVmVyc2lvblBhcnRzKGNvdW50KSB7XG4gICAgdmFyIG91dHB1dCA9IFtdO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBjb3VudDsgaWkrKykge1xuICAgICAgICBvdXRwdXQucHVzaCgnMCcpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuIiwiaW1wb3J0IHsgVGF0ZWdha2kgfSBmcm9tICcuL3RhdGVnYWtpJ1xuaW1wb3J0IHsgZGV0ZWN0IH0gZnJvbSAnZGV0ZWN0LWJyb3dzZXInXG5cbmNvbnN0IGJyb3dzZXIgPSBkZXRlY3QoKVxuaWYgKGJyb3dzZXIpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoYnJvd3Nlci5uYW1lKVxufVxuXG5sZXQga2FrdSA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGF0ZWdha2knKSlcbmtha3UuZm9yRWFjaChrID0+IHtcbiAgICBsZXQgdGF0ZWdha2kgPSBuZXcgVGF0ZWdha2koaywgdHJ1ZSwgdHJ1ZSwgdHJ1ZSlcblxuICAgIHRhdGVnYWtpLnBhcnNlKClcbn0pXG4iXSwibmFtZXMiOlsiU3RyaW5nRm9ybWF0R3VpZGUiLCJTdHJpbmciLCJwcm90b3R5cGUiLCJzZWdtZW50aXNlIiwicmUiLCJtYXRjaCIsInN0ciIsInRoaXMiLCJzZWdtZW50cyIsImluZGV4IiwiZXhlYyIsImZvcm1hdEd1aWRlIiwicHVzaCIsImNvbnRlbnQiLCJzdWJzdHJpbmciLCJhbWJpZ3VvdXMiLCJjamtQdW5jIiwiZnVsbHdpZHRoQWxwaGFiZXQiLCJsYXRpbiIsImthbmEiLCJsZW5ndGgiLCJUYXRlZ2FraSIsInJvb3RFbGVtZW50Iiwic2hvdWxkUGNTIiwiaW1pdGF0ZVBjUyIsImltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aCIsInNob3VsZFJlbW92ZVN0eWxlIiwic2V0RWxlbWVudEF0dHJpYnV0ZXMiLCJlbGVtZW50Iiwic2VnbWVudCIsImlubmVySFRNTCIsInBvc3RQcm9jZXNzIiwic2V0QXR0cmlidXRlIiwic3F1ZWV6ZSIsImNsYXNzTGlzdCIsImFkZCIsInRleHQiLCJyZXBsYWNlIiwiZm9ybWF0Iiwibm9kZSIsInBhc3NVbnRpbFBhcmEiLCJub2RlVHlwZSIsIk5vZGUiLCJURVhUX05PREUiLCJub2RlVmFsdWUiLCJ0cmltIiwiY29ycmVjdFB1bmNzIiwicGFyZW50RWxlbWVudCIsImNoaWxkRWxlbWVudENvdW50IiwiZm9yRWFjaCIsInN1YkVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lclRleHQiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsIm5vZGVOYW1lIiwiaXNQYXJhIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGROb2RlcyIsImNoaWxkTm9kZSIsInJlbW92ZVN0eWxlIiwicmVtb3ZlQXR0cmlidXRlIiwiY2hpbGRyZW4iLCJjaGlsZCIsInB1bmNzIiwic3BsaXQiLCJtYXAiLCJwdW5jIiwidGVzdCIsImlzT3BlbmluZ0JyYWNrZXQiLCJjaGFyQ29kZUF0IiwicmVzdWx0Iiwiam9pbiIsInRyYW5zZnJvbVRvRnVsbFdpZHRoIiwieCIsImJhc2UiLCJuZXdCYXNlIiwiY3VycmVudCIsImZyb21DaGFyQ29kZSIsInRjeSIsImRvY3VtZW50RWxlbWVudCIsImZvbnRTaXplUmF3Iiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImZvbnRTaXplIiwicGFyc2VJbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImNvbnRhaW5zIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwicmVtb3ZlIiwibWF0Y2hlcyIsIm5ld0VsZW1lbnQiLCJkaWdpdCIsInJlcGxhY2VXaXRoIiwidGhyZXNob2xkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwiY29ycmVjdEFtYmlndW91cyIsInBhcnNlIiwiY29uc3RydWN0b3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJwYWNrIiwiYXJndW1lbnRzIiwiYXIiLCJpIiwibCIsInNsaWNlIiwiY2FsbCIsImNvbmNhdCIsIkJyb3dzZXJJbmZvIiwibmFtZSIsInZlcnNpb24iLCJvcyIsInR5cGUiLCJTZWFyY2hCb3REZXZpY2VJbmZvIiwiYm90IiwiQm90SW5mbyIsIlNFQVJDSEJPVF9PU19SRUdFWCIsInVzZXJBZ2VudFJ1bGVzIiwib3BlcmF0aW5nU3lzdGVtUnVsZXMiLCJwYXJzZVVzZXJBZ2VudCIsInVhIiwibWF0Y2hlZFJ1bGUiLCJyZWR1Y2UiLCJtYXRjaGVkIiwiX2EiLCJicm93c2VyIiwicmVnZXgiLCJ1YU1hdGNoIiwibWF0Y2hVc2VyQWdlbnQiLCJ2ZXJzaW9uUGFydHMiLCJjb3VudCIsIm91dHB1dCIsImlpIiwiY3JlYXRlVmVyc2lvblBhcnRzIiwiZGV0ZWN0T1MiLCJzZWFyY2hCb3RNYXRjaCIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ1c2VyQWdlbnQiLCJwcm9jZXNzIiwicGxhdGZvcm0iLCJib2R5IiwiayJdLCJzb3VyY2VSb290IjoiIn0=