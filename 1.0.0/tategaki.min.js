(()=>{"use strict";var e;!function(e){e.default="default",e.cjkPunc="cjk-punc",e.fullwidthAlphabet="fullwidth-alphabet",e.latin="latin",e.kana="kana",e.ambiguous="ambiguous"}(e||(e={})),String.prototype.segmentise=function(t){let n,i=String(this),s=[],o=0;for(;n=t.exec(i);){let t;n.index>o&&s.push({content:i.substring(o,n.index),formatGuide:e.default}),n[1]?t=e.ambiguous:n[2]?t=e.cjkPunc:n[3]?t=e.fullwidthAlphabet:n[4]?t=e.latin:n[5]&&(t=e.kana),s.push({content:n[0],formatGuide:t}),o=n.index+n[0].length}return i.length>o&&s.push({content:i.substring(o),formatGuide:e.default}),s};class t{rootElement;shouldPcS;imitatePcS;imitateTransfromToFullWidth;shouldRemoveStyle;setElementAttributes(t,n){switch(n.formatGuide){case e.default:return void(t.innerHTML=this.postProcess(n.content));case e.latin:t.setAttribute("lang","en");break;case e.cjkPunc:this.shouldPcS&&(t.innerHTML=this.squeeze(n.content))}t.classList.add(n.formatGuide)}postProcess(e){return e.replace(/\n[ \n]*/g,'<br /><span class="indent"></span>')}format(e,t=!0){if(e.nodeType===Node.TEXT_NODE){let t=e.nodeValue;if(!t.trim())return;t=this.correctPuncs(t);let n=/([\u002f\u2013]+|――)|([\u3001\u3002\u301d\u301f\uff01\uff0c\uff1a\uff1b\uff1f\u3008-\u3011\u3014-\u301B\uff08\uff09]+)|([\uff21-\uff3a\uff41-\uff5a]+)|([\p{Script=Latin}0-9\u0020-\u0023\u0025-\u002b\u002c-\u002e\u003a\u003b\u003f\u0040\u005b-\u005d\u005f\u007b\u007d\u00a1\u00a7\u00ab\u00b2\u00b3\u00b6\u00b7\u00b9\u00bb-\u00bf\u2010-\u2012\u2018\u2019\u201c\u201d\u2020\u2021\u2026\u2027\u2030\u2032-\u2037\u2039\u203a\u203c-\u203e\u2047-\u2049\u204e\u2057\u2070\u2074-\u2079\u2080-\u2089\u2150\u2153\u2154\u215b-\u215e\u2160-\u217f\u2474-\u249b\u2e18\u2e2e]+)|([\u3041-\u309f\u30a0-\u30fa\u30fc\u30ff]+)/gu,i=t.segmentise(n),s=e.parentElement;return void(s.childElementCount||1!==i.length?(i.forEach((t=>{let n=document.createElement("span");n.innerText=t.content,this.setElementAttributes(n,t),s.insertBefore(n,e)})),s.removeChild(e)):this.setElementAttributes(s,i[0]))}if("BR"===e.nodeName)return;const n="P"===e.nodeName||"BLOCKQUOTE"===e.nodeName;Array.from(e.childNodes).forEach((e=>{this.format(e,!n&&t)}))}removeStyle(e=this.rootElement){e.removeAttribute("style"),e.removeAttribute("width"),e.removeAttribute("height"),Array.from(e.children,(e=>{this.removeStyle(e)}))}correctPuncs(e){return e.replace(/——|──/g,"――").replace(/……/g,"⋯⋯")}squeeze(e){return e.split("").map((e=>{if(/[\u3001\u3002\uff0c\uff01\uff1a\uff1b\uff1f]/.test(e))return`<span class="squeeze-other-punc">${e}</span>`;const t="〝"===e||e.charCodeAt(0)%2==0;let n=`<span class="${t?"squeeze-in":"squeeze-out"}">${e}</span>`;return this.imitatePcS?t?'<span class="squeeze-in-space"> </span>'+n:n+'<span class="squeeze-out-space"> </span>':n})).join("")}transfromToFullWidth(e){const t="0".charCodeAt(0),n="０".charCodeAt(0),i=e.charCodeAt(0);return String.fromCharCode(i-t+n)}tcy(t=!1){let n=document.documentElement,i=window.getComputedStyle(n).fontSize.match(/(\d+)px/)[1],s=parseInt(i);Array.from(this.rootElement.getElementsByClassName(e.latin)).forEach((n=>{const i=n.innerHTML.trim();if(!(n.previousElementSibling&&n.previousElementSibling.classList.contains(e.ambiguous)||n.nextElementSibling&&n.nextElementSibling.classList.contains(e.ambiguous))&&/^[\w\p{Script=Latin}]/u.test(i)&&"I"!=n.nodeName&&"EM"!=n.nodeName&&"I"!=n.parentElement.nodeName&&"EM"!=n.parentElement.nodeName)if(1==i.length)t?n.innerHTML=this.transfromToFullWidth(i):(n.innerHTML=i,n.classList.add("to-fullwidth")),n.classList.remove("latin"),n.removeAttribute("lang");else if(/^([A-Z]{3,10}|\d{4,10})$/.test(i))t?n.innerHTML=Array.from(i,(e=>this.transfromToFullWidth(e))).join(""):(n.innerHTML=i,n.classList.add("to-fullwidth")),n.classList.remove("latin"),n.removeAttribute("lang");else if(/^[A-Z]{2}$|^\d{2,3}$/.test(i))n.innerHTML=i,n.classList.remove("latin"),n.removeAttribute("lang"),n.classList.add("tcy");else if(/^\d{1,3}%$/.test(i)){const e=/^(\d{1,3})%$/.exec(i);let t=document.createElement("span"),s=e[1];1===s.length&&(s=this.transfromToFullWidth(s)),t.innerHTML=`<span ${1==s.length?"":'class="tcy"'}>${s}</span>&#8288;％`,n.replaceWith(t)}else{let e=s;n.innerHTML!=i?e*=1.5:e*=1.333,n.getBoundingClientRect().height<=e&&(n.innerHTML=i,n.classList.add("tcy"))}}))}correctAmbiguous(){Array.from(document.getElementsByClassName(e.ambiguous),(t=>{if(t.previousElementSibling&&t.nextElementSibling)if("――"!==t.innerHTML)if(t.previousElementSibling.classList.contains(e.latin)&&t.nextElementSibling.classList.contains(e.latin))t.classList.add("latin");else switch(t.innerHTML){case"/":t.innerHTML="／";break;case"–":t.innerHTML="―"}else t.classList.add("aalt-on");else t.classList.add("latin")}))}parse(){this.shouldRemoveStyle&&this.removeStyle(),this.rootElement.classList.add("tategaki"),this.rootElement.classList.add(this.imitatePcS?"imitate-pcs":"opentype-pcs"),this.format(this.rootElement),this.tcy(this.imitateTransfromToFullWidth),this.correctAmbiguous()}constructor(e,t=!0,n=!0,i=!0,s=!1){this.rootElement=e,this.shouldPcS=t,this.imitatePcS=n,this.imitateTransfromToFullWidth=i,this.shouldRemoveStyle=s}}var n=function(e,t,n){if(n||2===arguments.length)for(var i,s=0,o=t.length;s<o;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"},o=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},r=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function l(e){var t=function(e){return""!==e&&a.reduce((function(t,n){var i=n[0],s=n[1];if(t)return t;var o=s.exec(e);return!!o&&[i,o]}),!1)}(e);if(!t)return null;var l=t[0],c=t[1];if("searchbot"===l)return new o;var d=c[1]&&c[1].split(".").join("_").split("_").slice(0,3);d?d.length<3&&(d=n(n([],d,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-d.length),!0)):d=[];var m=d.join("."),f=function(e){for(var t=0,n=u.length;t<n;t++){var i=u[t],s=i[0];if(i[1].exec(e))return s}return null}(e),h=r.exec(e);return h&&h[1]?new s(l,m,f,h[1]):new i(l,m,f)}const c="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}:"undefined"!=typeof navigator?l(navigator.userAgent):"undefined"!=typeof process&&process.version?new function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}(process.version.slice(1)):null;const d=c&&"firefox"===c.name,m=c&&"chrome"===c.name;c&&document.body.classList.add(c.name),Array.from(document.querySelectorAll("article")).forEach((e=>{new t(e,!0,d||m,!0).parse()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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N0QsTUFBTW9DLEVBQVloQixHQUE0QixZQUFqQkEsRUFBUWhCLEtBQy9CaUMsRUFBV2pCLEdBQTRCLFdBQWpCQSxFQUFRaEIsS0FDaENnQixHQUNBL0UsU0FBU2lHLEtBQUtsSCxVQUFVQyxJQUFJK0YsRUFBUWhCLE1BR3pCeEQsTUFBTUMsS0FBS1IsU0FBU2tHLGlCQUFpQixZQUMzQ3BHLFNBQVFxRyxJQUNFLElBQUlqSSxFQUFTaUksR0FBUyxFQUFNSixHQUFhQyxHQUFVLEdBRXpEOUMsWSIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdGVnYWtpLy4vc3JjL2Zvcm1hdFNlZ21lbnQudHMiLCJ3ZWJwYWNrOi8vdGF0ZWdha2kvLi9zcmMvZXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly90YXRlZ2FraS8uL3NyYy90YXRlZ2FraS50cyIsIndlYnBhY2s6Ly90YXRlZ2FraS8uL25vZGVfbW9kdWxlcy9kZXRlY3QtYnJvd3Nlci9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90YXRlZ2FraS8uL3NyYy9leHRlcm5hbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBTdHJpbmdGb3JtYXRHdWlkZSB7XG4gICAgZGVmYXVsdCA9ICdkZWZhdWx0JyxcbiAgICBjamtQdW5jID0gJ2Nqay1wdW5jJyxcbiAgICBmdWxsd2lkdGhBbHBoYWJldCA9ICdmdWxsd2lkdGgtYWxwaGFiZXQnLFxuICAgIGxhdGluID0gJ2xhdGluJyxcbiAgICBrYW5hID0gJ2thbmEnLFxuICAgIGFtYmlndW91cyA9ICdhbWJpZ3VvdXMnLFxufVxuXG5leHBvcnQgdHlwZSBTdHJpbmdGb3JtYXRTZWdtZW50ID0ge1xuICAgIGNvbnRlbnQ6IHN0cmluZ1xuICAgIGZvcm1hdEd1aWRlOiBTdHJpbmdGb3JtYXRHdWlkZVxufVxuIiwiaW1wb3J0IHsgU3RyaW5nRm9ybWF0U2VnbWVudCwgU3RyaW5nRm9ybWF0R3VpZGUgfSBmcm9tICcuL2Zvcm1hdFNlZ21lbnQnXG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgU3RyaW5nIHtcbiAgICAgICAgc2VnbWVudGlzZShyZTogUmVnRXhwKTogU3RyaW5nRm9ybWF0U2VnbWVudFtdXG4gICAgfVxufVxuXG5TdHJpbmcucHJvdG90eXBlLnNlZ21lbnRpc2UgPSBmdW5jdGlvbiAocmUpIHtcbiAgICBsZXQgc3RyID0gU3RyaW5nKHRoaXMpIFxuICAgIGxldCBzZWdtZW50czogU3RyaW5nRm9ybWF0U2VnbWVudFtdID0gW11cbiAgICBsZXQgaW5kZXg6IG51bWJlciA9IDBcbiAgICBsZXQgbWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGxcbiAgICB3aGlsZSAobWF0Y2ggPSByZS5leGVjKHN0cikpIHtcbiAgICAgICAgaWYgKG1hdGNoLmluZGV4ID4gaW5kZXgpIHtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHN0ci5zdWJzdHJpbmcoaW5kZXgsIG1hdGNoLmluZGV4KSxcbiAgICAgICAgICAgICAgICBmb3JtYXRHdWlkZTogU3RyaW5nRm9ybWF0R3VpZGUuZGVmYXVsdFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmb3JtYXRHdWlkZTogU3RyaW5nRm9ybWF0R3VpZGVcbiAgICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgICAgICBmb3JtYXRHdWlkZSA9IFN0cmluZ0Zvcm1hdEd1aWRlLmFtYmlndW91c1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoWzJdKSB7XG4gICAgICAgICAgICBmb3JtYXRHdWlkZSA9IFN0cmluZ0Zvcm1hdEd1aWRlLmNqa1B1bmNcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgZm9ybWF0R3VpZGUgPSBTdHJpbmdGb3JtYXRHdWlkZS5mdWxsd2lkdGhBbHBoYWJldFxuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICBmb3JtYXRHdWlkZSA9IFN0cmluZ0Zvcm1hdEd1aWRlLmxhdGluXG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbNV0pIHtcbiAgICAgICAgICAgIGZvcm1hdEd1aWRlID0gU3RyaW5nRm9ybWF0R3VpZGUua2FuYVxuICAgICAgICB9XG5cbiAgICAgICAgc2VnbWVudHMucHVzaCh7XG4gICAgICAgICAgICBjb250ZW50OiBtYXRjaFswXSxcbiAgICAgICAgICAgIGZvcm1hdEd1aWRlOiBmb3JtYXRHdWlkZVxuICAgICAgICB9KVxuICAgICAgICBpbmRleCA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoXG4gICAgfVxuICAgIFxuICAgIGlmIChzdHIubGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgICAgc2VnbWVudHMucHVzaCh7XG4gICAgICAgICAgICBjb250ZW50OiBzdHIuc3Vic3RyaW5nKGluZGV4KSxcbiAgICAgICAgICAgIGZvcm1hdEd1aWRlOiBTdHJpbmdGb3JtYXRHdWlkZS5kZWZhdWx0XG4gICAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiBzZWdtZW50c1xufVxuIiwiaW1wb3J0IHsgU3RyaW5nRm9ybWF0U2VnbWVudCwgU3RyaW5nRm9ybWF0R3VpZGUgfSBmcm9tICcuL2Zvcm1hdFNlZ21lbnQnXG5pbXBvcnQgJy4vZXh0ZW5zaW9ucydcblxuXG5leHBvcnQgY2xhc3MgVGF0ZWdha2kge1xuICAgIHJvb3RFbGVtZW50OiBFbGVtZW50XG5cbiAgICBzaG91bGRQY1M6IGJvb2xlYW5cbiAgICBpbWl0YXRlUGNTOiBib29sZWFuXG4gICAgaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoOiBib29sZWFuXG4gICAgc2hvdWxkUmVtb3ZlU3R5bGU6IGJvb2xlYW5cbiAgICBcblxuICAgIHByaXZhdGUgc2V0RWxlbWVudEF0dHJpYnV0ZXMoZWxlbWVudDogRWxlbWVudCwgc2VnbWVudDogU3RyaW5nRm9ybWF0U2VnbWVudCkge1xuICAgICAgICBzd2l0Y2goc2VnbWVudC5mb3JtYXRHdWlkZSkge1xuICAgICAgICAgICAgY2FzZSBTdHJpbmdGb3JtYXRHdWlkZS5kZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAgdGhpcy5wb3N0UHJvY2VzcyhzZWdtZW50LmNvbnRlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFN0cmluZ0Zvcm1hdEd1aWRlLmxhdGluOiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2xhbmcnLCAnZW4nKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFN0cmluZ0Zvcm1hdEd1aWRlLmNqa1B1bmM6IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG91bGRQY1MpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLnNxdWVlemUoc2VnbWVudC5jb250ZW50KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHNlZ21lbnQuZm9ybWF0R3VpZGUpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwb3N0UHJvY2Vzcyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGV4dFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcblsgXFxuXSovZywgYDxiciAvPjxzcGFuIGNsYXNzPVwiaW5kZW50XCI+PC9zcGFuPmApXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXQobm9kZTogTm9kZSwgcGFzc1VudGlsUGFyYTogYm9vbGVhbj10cnVlKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgICAgbGV0IHRleHQgPSBub2RlLm5vZGVWYWx1ZSFcbiAgICAgICAgICAgIGlmICghdGV4dC50cmltKCkpIHsgcmV0dXJuIH1cbiAgICAgICAgICAgIHRleHQgPSB0aGlzLmNvcnJlY3RQdW5jcyh0ZXh0KVxuXG4gICAgICAgICAgICAvLyAoQU1CSUdVT1VTKXwoQ0pLX1BVTkMpfChGVUxMX1dJRFRIX0FMUEhBQkVUKXwoTEFUSU4pfChLQU5BKVxuICAgICAgICAgICAgbGV0IHJlID0gLyhbXFx1MDAyZlxcdTIwMTNdK3zigJXigJUpfChbXFx1MzAwMVxcdTMwMDJcXHUzMDFkXFx1MzAxZlxcdWZmMDFcXHVmZjBjXFx1ZmYxYVxcdWZmMWJcXHVmZjFmXFx1MzAwOC1cXHUzMDExXFx1MzAxNC1cXHUzMDFCXFx1ZmYwOFxcdWZmMDldKyl8KFtcXHVmZjIxLVxcdWZmM2FcXHVmZjQxLVxcdWZmNWFdKyl8KFtcXHB7U2NyaXB0PUxhdGlufTAtOVxcdTAwMjAtXFx1MDAyM1xcdTAwMjUtXFx1MDAyYlxcdTAwMmMtXFx1MDAyZVxcdTAwM2FcXHUwMDNiXFx1MDAzZlxcdTAwNDBcXHUwMDViLVxcdTAwNWRcXHUwMDVmXFx1MDA3YlxcdTAwN2RcXHUwMGExXFx1MDBhN1xcdTAwYWJcXHUwMGIyXFx1MDBiM1xcdTAwYjZcXHUwMGI3XFx1MDBiOVxcdTAwYmItXFx1MDBiZlxcdTIwMTAtXFx1MjAxMlxcdTIwMThcXHUyMDE5XFx1MjAxY1xcdTIwMWRcXHUyMDIwXFx1MjAyMVxcdTIwMjZcXHUyMDI3XFx1MjAzMFxcdTIwMzItXFx1MjAzN1xcdTIwMzlcXHUyMDNhXFx1MjAzYy1cXHUyMDNlXFx1MjA0Ny1cXHUyMDQ5XFx1MjA0ZVxcdTIwNTdcXHUyMDcwXFx1MjA3NC1cXHUyMDc5XFx1MjA4MC1cXHUyMDg5XFx1MjE1MFxcdTIxNTNcXHUyMTU0XFx1MjE1Yi1cXHUyMTVlXFx1MjE2MC1cXHUyMTdmXFx1MjQ3NC1cXHUyNDliXFx1MmUxOFxcdTJlMmVdKyl8KFtcXHUzMDQxLVxcdTMwOWZcXHUzMGEwLVxcdTMwZmFcXHUzMGZjXFx1MzBmZl0rKS9ndVxuXG4gICAgICAgICAgICBsZXQgc2VnbWVudHMgPSB0ZXh0LnNlZ21lbnRpc2UocmUpXG5cbiAgICAgICAgICAgIGxldCBwYXJlbnRFbGVtZW50ID0gbm9kZS5wYXJlbnRFbGVtZW50XG4gICAgICAgICAgICBpZiAoIXBhcmVudEVsZW1lbnQuY2hpbGRFbGVtZW50Q291bnQgJiYgc2VnbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFbGVtZW50QXR0cmlidXRlcyhwYXJlbnRFbGVtZW50LCBzZWdtZW50c1swXSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudHMuZm9yRWFjaChzZWdtZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1YkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgICAgICAgICAgICAgc3ViRWxlbWVudC5pbm5lclRleHQgPSBzZWdtZW50LmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFbGVtZW50QXR0cmlidXRlcyhzdWJFbGVtZW50LCBzZWdtZW50KVxuXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHN1YkVsZW1lbnQsIG5vZGUpXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQobm9kZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ0JSJykgeyByZXR1cm4gfVxuICAgICAgICBjb25zdCBpc1BhcmEgPSBub2RlLm5vZGVOYW1lID09PSAnUCcgfHwgbm9kZS5ub2RlTmFtZSA9PT0gJ0JMT0NLUVVPVEUnXG5cbiAgICAgICAgbGV0IGNoaWxkTm9kZXMgPSBBcnJheS5mcm9tKG5vZGUuY2hpbGROb2RlcylcbiAgICAgICAgY2hpbGROb2Rlcy5mb3JFYWNoKGNoaWxkTm9kZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdChjaGlsZE5vZGUsIGlzUGFyYSA/IGZhbHNlIDogcGFzc1VudGlsUGFyYSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZVN0eWxlKGVsZW1lbnQ6IEVsZW1lbnQ9dGhpcy5yb290RWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKVxuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnd2lkdGgnKVxuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaGVpZ2h0JylcblxuICAgICAgICBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGRyZW4sIGNoaWxkID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlU3R5bGUoY2hpbGQpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gUmF3IHJlcGxhY2VtZW50cyBmb3Igc3BlY2lmaWMgcHVuY3MgJiBzeW1ib2xzXG4gICAgcHJpdmF0ZSBjb3JyZWN0UHVuY3ModGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRleHRcbiAgICAgICAgICAgIC5yZXBsYWNlKC/igJTigJR84pSA4pSAL2csICfigJXigJUnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL+KApuKApi9nLCAn4ouv4ouvJylcbiAgICB9XG5cbiAgICBwcml2YXRlIHNxdWVlemUocHVuY3M6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBwdW5jcy5zcGxpdCgnJykubWFwKHB1bmMgPT4ge1xuICAgICAgICAgICAgaWYgKC9bXFx1MzAwMVxcdTMwMDJcXHVmZjBjXFx1ZmYwMVxcdWZmMWFcXHVmZjFiXFx1ZmYxZl0vLnRlc3QocHVuYykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwic3F1ZWV6ZS1vdGhlci1wdW5jXCI+JHtwdW5jfTwvc3Bhbj5gXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGlzT3BlbmluZ0JyYWNrZXQgPSBwdW5jID09PSAnXFx1MzAxZCcgfHwgcHVuYy5jaGFyQ29kZUF0KDApICUgMiA9PT0gMFxuICAgICAgICAgICAgY29uc3Qgc3F1ZWV6ZUNsYXNzID0gaXNPcGVuaW5nQnJhY2tldCA/ICdzcXVlZXplLWluJyA6ICdzcXVlZXplLW91dCdcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBgPHNwYW4gY2xhc3M9XCIke3NxdWVlemVDbGFzc31cIj4ke3B1bmN9PC9zcGFuPmBcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmltaXRhdGVQY1MpIHsgcmV0dXJuIHJlc3VsdCB9XG5cbiAgICAgICAgICAgIGlmIChpc09wZW5pbmdCcmFja2V0KSB7XG4gICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwic3F1ZWV6ZS1pbi1zcGFjZVwiPiA8L3NwYW4+YCArIHJlc3VsdCBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ICsgYDxzcGFuIGNsYXNzPVwic3F1ZWV6ZS1vdXQtc3BhY2VcIj4gPC9zcGFuPmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuam9pbignJylcbiAgICB9XG5cbiAgICAvLyBTaW5jZSBub3QgYWxsIGJyb3dzZXIgc3VwcG9ydCBmdWxsLXdpZHRoIHRyYW5zZm9ybWF0aW9uLFxuICAgIC8vIGl0J2xsIGRvIHNvbWUgdW5pY29kZSBjYWxjIHRvIGRvIHRoYXQuXG4gICAgLy8gRGVsdGEgYmV0d2VlbiBjb2RlcyBvZiBjaGFyYWN0ZXJzIGluIGZ1bGwtd2lkdGggaXMgYXMgc2FtZSBcbiAgICAvLyBhcyBBU0NJSSwgc28gY2hvb3NlIHplcm8gYXMgYmFzZSBmb3IgY2FsY3VsYXRpb25cbiAgICBwcml2YXRlIHRyYW5zZnJvbVRvRnVsbFdpZHRoKHg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGJhc2UgPSAnMCcuY2hhckNvZGVBdCgwKVxuICAgICAgICBjb25zdCBuZXdCYXNlID0gJ1xcdWZmMTAnLmNoYXJDb2RlQXQoMClcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHguY2hhckNvZGVBdCgwKVxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjdXJyZW50IC0gYmFzZSArIG5ld0Jhc2UpXG4gICAgfVxuXG4gICAgLy8gWW9rb2dha2kgaW4gVGF0ZWdha2kgKFRhdGVnYWtpLUNoeXUtWW9rb2dha2kpXG4gICAgcHJpdmF0ZSB0Y3koaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoOiBib29sZWFuPWZhbHNlKSB7XG4gICAgICAgIGxldCBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICAgICAgbGV0IGZvbnRTaXplUmF3ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnRFbGVtZW50KS5mb250U2l6ZS5tYXRjaCgvKFxcZCspcHgvKVsxXVxuICAgICAgICBsZXQgZm9udFNpemUgPSBwYXJzZUludChmb250U2l6ZVJhdylcblxuICAgICAgICBsZXQgZWxlbWVudHMgPSBBcnJheS5mcm9tKHRoaXMucm9vdEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShTdHJpbmdGb3JtYXRHdWlkZS5sYXRpbikpXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gZWxlbWVudC5pbm5lckhUTUwudHJpbSgpXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIFxuICAgICAgICAgICAgICAgIGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoU3RyaW5nRm9ybWF0R3VpZGUuYW1iaWd1b3VzKSB8fCBcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZyAmJlxuICAgICAgICAgICAgICAgIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucyhTdHJpbmdGb3JtYXRHdWlkZS5hbWJpZ3VvdXMpKSB7IHJldHVybiB9XG5cbiAgICAgICAgICAgIGlmICgvXltcXHdcXHB7U2NyaXB0PUxhdGlufV0vdS50ZXN0KHRleHQpICYmIFxuICAgICAgICAgICAgICAgIGVsZW1lbnQubm9kZU5hbWUgIT0gJ0knICYmIFxuICAgICAgICAgICAgICAgIGVsZW1lbnQubm9kZU5hbWUgIT0gJ0VNJyAmJlxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5ub2RlTmFtZSAhPSAnSScgJiZcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQubm9kZU5hbWUgIT0gJ0VNJykge1xuICAgICAgICAgICAgICAgIC8vIFdvcmRzIHdpdGggb25seSBvbmUgbGV0dHJlIHNob3VsZCB0dXJuIHRvIGZ1bGwtd2lkdGhcbiAgICAgICAgICAgICAgICAvLyBhbmQgbG9zZSBgbGF0aW5gIGNsYXNzXG4gICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLnRyYW5zZnJvbVRvRnVsbFdpZHRoKHRleHQpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndG8tZnVsbHdpZHRoJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2xhdGluJylcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2xhbmcnKVxuICAgICAgICAgICAgICAgIC8vIEFiYnJldmlhdGlvbnMgYW5kIG51bWJlcnMgbm8gbW9yZSB0aGFuIDQgZGlnaXRzIHNob3VsZFxuICAgICAgICAgICAgICAgIC8vIHR1cm4gdG8gZnVsbC13aWR0aFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL14oW0EtWl17MywxMH18XFxkezQsMTB9KSQvLnRlc3QodGV4dCkpICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWl0YXRlVHJhbnNmcm9tVG9GdWxsV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gQXJyYXkuZnJvbSh0ZXh0LCB4ID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmcm9tVG9GdWxsV2lkdGgoeCkpLmpvaW4oJycpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndG8tZnVsbHdpZHRoJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2xhdGluJylcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2xhbmcnKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL15bQS1aXXsyfSR8XlxcZHsyLDN9JC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRleHRcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdsYXRpbicpXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdsYW5nJylcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0Y3knKVxuICAgICAgICAgICAgICAgIC8vIFBlcmNlbnRhZ2VcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9eXFxkezEsM30lJC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gL14oXFxkezEsM30pJSQvLmV4ZWModGV4dClcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpZ2l0ID0gbWF0Y2hlc1sxXVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlnaXQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWdpdCA9IHRoaXMudHJhbnNmcm9tVG9GdWxsV2lkdGgoZGlnaXQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5pbm5lckhUTUwgPSBgPHNwYW4gJHtkaWdpdC5sZW5ndGggPT0gMSA/ICcnIDogJ2NsYXNzPVwidGN5XCInfT4ke2RpZ2l0fTwvc3Bhbj4mIzgyODg777yFYFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKG5ld0VsZW1lbnQpXG4gICAgICAgICAgICAgICAgLy8gTWVhc3VyZSBoZWlnaHQgb2YgdGhlIGVsZW1lbnQgdG8gZGVjaWRlIGlmIFRDWVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0aHJlc2hvbGQgPSBmb250U2l6ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5pbm5lckhUTUwgIT0gdGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmVlZCBhZGp1c3RpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCAqPSAxLjVcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCAqPSAxLjMzM1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IDw9IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RjeScpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb3JyZWN0QW1iaWd1b3VzKCkge1xuICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoU3RyaW5nRm9ybWF0R3VpZGUuYW1iaWd1b3VzKSwgZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZyB8fCAhZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2xhdGluJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5pbm5lckhUTUwgPT09ICfigJXigJUnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhYWx0LW9uJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoU3RyaW5nRm9ybWF0R3VpZGUubGF0aW4pICYmXG4gICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKFN0cmluZ0Zvcm1hdEd1aWRlLmxhdGluKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbGF0aW4nKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2goZWxlbWVudC5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgICBjYXNlICcvJzoge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICfvvI8nXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ+KAkyc6IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAn4oCVJ1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwYXJzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkUmVtb3ZlU3R5bGUpIHsgdGhpcy5yZW1vdmVTdHlsZSgpIH1cblxuICAgICAgICB0aGlzLnJvb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RhdGVnYWtpJylcbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuaW1pdGF0ZVBjUyA/ICdpbWl0YXRlLXBjcycgOiAnb3BlbnR5cGUtcGNzJylcblxuICAgICAgICB0aGlzLmZvcm1hdCh0aGlzLnJvb3RFbGVtZW50KVxuXG4gICAgICAgIHRoaXMudGN5KHRoaXMuaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoKVxuXG4gICAgICAgIHRoaXMuY29ycmVjdEFtYmlndW91cygpXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Iocm9vdEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBcbiAgICAgICAgICAgICAgICBzaG91bGRQY1M6IGJvb2xlYW49dHJ1ZSwgaW1pdGF0ZVBjUzogYm9vbGVhbj10cnVlLCBcbiAgICAgICAgICAgICAgICBpbWl0YXRlVHJhbnNmcm9tVG9GdWxsV2lkdGg6IGJvb2xlYW49dHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG91bGRSZW1vdmVTdHlsZTogYm9vbGVhbj1mYWxzZSkge1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50ID0gcm9vdEVsZW1lbnRcbiAgICAgICAgdGhpcy5zaG91bGRQY1MgPSBzaG91bGRQY1NcbiAgICAgICAgdGhpcy5pbWl0YXRlUGNTID0gaW1pdGF0ZVBjU1xuICAgICAgICB0aGlzLmltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aCA9IGltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aFxuICAgICAgICB0aGlzLnNob3VsZFJlbW92ZVN0eWxlID0gc2hvdWxkUmVtb3ZlU3R5bGVcbiAgICB9XG59XG4iLCJ2YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG52YXIgQnJvd3NlckluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnJvd3NlckluZm8obmFtZSwgdmVyc2lvbiwgb3MpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5vcyA9IG9zO1xuICAgICAgICB0aGlzLnR5cGUgPSAnYnJvd3Nlcic7XG4gICAgfVxuICAgIHJldHVybiBCcm93c2VySW5mbztcbn0oKSk7XG5leHBvcnQgeyBCcm93c2VySW5mbyB9O1xudmFyIE5vZGVJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vZGVJbmZvKHZlcnNpb24pIHtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy50eXBlID0gJ25vZGUnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnbm9kZSc7XG4gICAgICAgIHRoaXMub3MgPSBwcm9jZXNzLnBsYXRmb3JtO1xuICAgIH1cbiAgICByZXR1cm4gTm9kZUluZm87XG59KCkpO1xuZXhwb3J0IHsgTm9kZUluZm8gfTtcbnZhciBTZWFyY2hCb3REZXZpY2VJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlYXJjaEJvdERldmljZUluZm8obmFtZSwgdmVyc2lvbiwgb3MsIGJvdCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLm9zID0gb3M7XG4gICAgICAgIHRoaXMuYm90ID0gYm90O1xuICAgICAgICB0aGlzLnR5cGUgPSAnYm90LWRldmljZSc7XG4gICAgfVxuICAgIHJldHVybiBTZWFyY2hCb3REZXZpY2VJbmZvO1xufSgpKTtcbmV4cG9ydCB7IFNlYXJjaEJvdERldmljZUluZm8gfTtcbnZhciBCb3RJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdEluZm8oKSB7XG4gICAgICAgIHRoaXMudHlwZSA9ICdib3QnO1xuICAgICAgICB0aGlzLmJvdCA9IHRydWU7IC8vIE5PVEU6IGRlcHJlY2F0ZWQgdGVzdCBuYW1lIGluc3RlYWRcbiAgICAgICAgdGhpcy5uYW1lID0gJ2JvdCc7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub3MgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQm90SW5mbztcbn0oKSk7XG5leHBvcnQgeyBCb3RJbmZvIH07XG52YXIgUmVhY3ROYXRpdmVJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlYWN0TmF0aXZlSW5mbygpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ3JlYWN0LW5hdGl2ZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdyZWFjdC1uYXRpdmUnO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm9zID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlSW5mbztcbn0oKSk7XG5leHBvcnQgeyBSZWFjdE5hdGl2ZUluZm8gfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbnZhciBTRUFSQ0hCT1hfVUFfUkVHRVggPSAvYWxleGF8Ym90fGNyYXdsKGVyfGluZyl8ZmFjZWJvb2tleHRlcm5hbGhpdHxmZWVkYnVybmVyfGdvb2dsZSB3ZWIgcHJldmlld3xuYWdpb3N8cG9zdHJhbmt8cGluZ2RvbXxzbHVycHxzcGlkZXJ8eWFob28hfHlhbmRleC87XG52YXIgU0VBUkNIQk9UX09TX1JFR0VYID0gLyhudWhrfGN1cmx8R29vZ2xlYm90fFlhbW15Ym90fE9wZW5ib3R8U2x1cnB8TVNOQm90fEFza1xcIEplZXZlc1xcL1Rlb21hfGlhX2FyY2hpdmVyKS87XG52YXIgUkVRVUlSRURfVkVSU0lPTl9QQVJUUyA9IDM7XG52YXIgdXNlckFnZW50UnVsZXMgPSBbXG4gICAgWydhb2wnLCAvQU9MU2hpZWxkXFwvKFswLTlcXC5fXSspL10sXG4gICAgWydlZGdlJywgL0VkZ2VcXC8oWzAtOVxcLl9dKykvXSxcbiAgICBbJ2VkZ2UtaW9zJywgL0VkZ2lPU1xcLyhbMC05XFwuX10rKS9dLFxuICAgIFsneWFuZGV4YnJvd3NlcicsIC9ZYUJyb3dzZXJcXC8oWzAtOVxcLl9dKykvXSxcbiAgICBbJ2tha2FvdGFsaycsIC9LQUtBT1RBTEtcXHMoWzAtOVxcLl0rKS9dLFxuICAgIFsnc2Ftc3VuZycsIC9TYW1zdW5nQnJvd3NlclxcLyhbMC05XFwuXSspL10sXG4gICAgWydzaWxrJywgL1xcYlNpbGtcXC8oWzAtOS5fLV0rKVxcYi9dLFxuICAgIFsnbWl1aScsIC9NaXVpQnJvd3NlclxcLyhbMC05XFwuXSspJC9dLFxuICAgIFsnYmVha2VyJywgL0JlYWtlckJyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnZWRnZS1jaHJvbWl1bScsIC9FZGdBP1xcLyhbMC05XFwuXSspL10sXG4gICAgW1xuICAgICAgICAnY2hyb21pdW0td2VidmlldycsXG4gICAgICAgIC8oPyFDaHJvbS4qT1BSKXd2XFwpLipDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpLyxcbiAgICBdLFxuICAgIFsnY2hyb21lJywgLyg/IUNocm9tLipPUFIpQ2hyb20oPzplfGl1bSlcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxuICAgIFsncGhhbnRvbWpzJywgL1BoYW50b21KU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydjcmlvcycsIC9DcmlPU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydmaXJlZm94JywgL0ZpcmVmb3hcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxuICAgIFsnZnhpb3MnLCAvRnhpT1NcXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnb3BlcmEtbWluaScsIC9PcGVyYSBNaW5pLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ29wZXJhJywgL09wZXJhXFwvKFswLTlcXC5dKykoPzpcXHN8JCkvXSxcbiAgICBbJ29wZXJhJywgL09QUlxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydpZScsIC9UcmlkZW50XFwvN1xcLjAuKnJ2XFw6KFswLTlcXC5dKykuKlxcKS4qR2Vja28kL10sXG4gICAgWydpZScsIC9NU0lFXFxzKFswLTlcXC5dKyk7LipUcmlkZW50XFwvWzQtN10uMC9dLFxuICAgIFsnaWUnLCAvTVNJRVxccyg3XFwuMCkvXSxcbiAgICBbJ2JiMTAnLCAvQkIxMDtcXHNUb3VjaC4qVmVyc2lvblxcLyhbMC05XFwuXSspL10sXG4gICAgWydhbmRyb2lkJywgL0FuZHJvaWRcXHMoWzAtOVxcLl0rKS9dLFxuICAgIFsnaW9zJywgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKk1vYmlsZS4qU2FmYXJpLiovXSxcbiAgICBbJ3NhZmFyaScsIC9WZXJzaW9uXFwvKFswLTlcXC5fXSspLipTYWZhcmkvXSxcbiAgICBbJ2ZhY2Vib29rJywgL0ZCW0FTXVZcXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnaW5zdGFncmFtJywgL0luc3RhZ3JhbVxccyhbMC05XFwuXSspL10sXG4gICAgWydpb3Mtd2VidmlldycsIC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipNb2JpbGUvXSxcbiAgICBbJ2lvcy13ZWJ2aWV3JywgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKkdlY2tvXFwpJC9dLFxuICAgIFsnY3VybCcsIC9eY3VybFxcLyhbMC05XFwuXSspJC9dLFxuICAgIFsnc2VhcmNoYm90JywgU0VBUkNIQk9YX1VBX1JFR0VYXSxcbl07XG52YXIgb3BlcmF0aW5nU3lzdGVtUnVsZXMgPSBbXG4gICAgWydpT1MnLCAvaVAoaG9uZXxvZHxhZCkvXSxcbiAgICBbJ0FuZHJvaWQgT1MnLCAvQW5kcm9pZC9dLFxuICAgIFsnQmxhY2tCZXJyeSBPUycsIC9CbGFja0JlcnJ5fEJCMTAvXSxcbiAgICBbJ1dpbmRvd3MgTW9iaWxlJywgL0lFTW9iaWxlL10sXG4gICAgWydBbWF6b24gT1MnLCAvS2luZGxlL10sXG4gICAgWydXaW5kb3dzIDMuMTEnLCAvV2luMTYvXSxcbiAgICBbJ1dpbmRvd3MgOTUnLCAvKFdpbmRvd3MgOTUpfChXaW45NSl8KFdpbmRvd3NfOTUpL10sXG4gICAgWydXaW5kb3dzIDk4JywgLyhXaW5kb3dzIDk4KXwoV2luOTgpL10sXG4gICAgWydXaW5kb3dzIDIwMDAnLCAvKFdpbmRvd3MgTlQgNS4wKXwoV2luZG93cyAyMDAwKS9dLFxuICAgIFsnV2luZG93cyBYUCcsIC8oV2luZG93cyBOVCA1LjEpfChXaW5kb3dzIFhQKS9dLFxuICAgIFsnV2luZG93cyBTZXJ2ZXIgMjAwMycsIC8oV2luZG93cyBOVCA1LjIpL10sXG4gICAgWydXaW5kb3dzIFZpc3RhJywgLyhXaW5kb3dzIE5UIDYuMCkvXSxcbiAgICBbJ1dpbmRvd3MgNycsIC8oV2luZG93cyBOVCA2LjEpL10sXG4gICAgWydXaW5kb3dzIDgnLCAvKFdpbmRvd3MgTlQgNi4yKS9dLFxuICAgIFsnV2luZG93cyA4LjEnLCAvKFdpbmRvd3MgTlQgNi4zKS9dLFxuICAgIFsnV2luZG93cyAxMCcsIC8oV2luZG93cyBOVCAxMC4wKS9dLFxuICAgIFsnV2luZG93cyBNRScsIC9XaW5kb3dzIE1FL10sXG4gICAgWydPcGVuIEJTRCcsIC9PcGVuQlNEL10sXG4gICAgWydTdW4gT1MnLCAvU3VuT1MvXSxcbiAgICBbJ0Nocm9tZSBPUycsIC9Dck9TL10sXG4gICAgWydMaW51eCcsIC8oTGludXgpfChYMTEpL10sXG4gICAgWydNYWMgT1MnLCAvKE1hY19Qb3dlclBDKXwoTWFjaW50b3NoKS9dLFxuICAgIFsnUU5YJywgL1FOWC9dLFxuICAgIFsnQmVPUycsIC9CZU9TL10sXG4gICAgWydPUy8yJywgL09TXFwvMi9dLFxuXTtcbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3QodXNlckFnZW50KSB7XG4gICAgaWYgKCEhdXNlckFnZW50KSB7XG4gICAgICAgIHJldHVybiBwYXJzZVVzZXJBZ2VudCh1c2VyQWdlbnQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJykge1xuICAgICAgICByZXR1cm4gbmV3IFJlYWN0TmF0aXZlSW5mbygpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXNlckFnZW50KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Tm9kZVZlcnNpb24oKTtcbn1cbmZ1bmN0aW9uIG1hdGNoVXNlckFnZW50KHVhKSB7XG4gICAgLy8gb3B0ZWQgZm9yIHVzaW5nIHJlZHVjZSBoZXJlIHJhdGhlciB0aGFuIEFycmF5I2ZpcnN0IHdpdGggYSByZWdleC50ZXN0IGNhbGxcbiAgICAvLyB0aGlzIGlzIHByaW1hcmlseSBiZWNhdXNlIHVzaW5nIHRoZSByZWR1Y2Ugd2Ugb25seSBwZXJmb3JtIHRoZSByZWdleFxuICAgIC8vIGV4ZWN1dGlvbiBvbmNlIHJhdGhlciB0aGFuIG9uY2UgZm9yIHRoZSB0ZXN0IGFuZCBmb3IgdGhlIGV4ZWMgYWdhaW4gYmVsb3dcbiAgICAvLyBwcm9iYWJseSBzb21ldGhpbmcgdGhhdCBuZWVkcyB0byBiZSBiZW5jaG1hcmtlZCB0aG91Z2hcbiAgICByZXR1cm4gKHVhICE9PSAnJyAmJlxuICAgICAgICB1c2VyQWdlbnRSdWxlcy5yZWR1Y2UoZnVuY3Rpb24gKG1hdGNoZWQsIF9hKSB7XG4gICAgICAgICAgICB2YXIgYnJvd3NlciA9IF9hWzBdLCByZWdleCA9IF9hWzFdO1xuICAgICAgICAgICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1YU1hdGNoID0gcmVnZXguZXhlYyh1YSk7XG4gICAgICAgICAgICByZXR1cm4gISF1YU1hdGNoICYmIFticm93c2VyLCB1YU1hdGNoXTtcbiAgICAgICAgfSwgZmFsc2UpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBicm93c2VyTmFtZSh1YSkge1xuICAgIHZhciBkYXRhID0gbWF0Y2hVc2VyQWdlbnQodWEpO1xuICAgIHJldHVybiBkYXRhID8gZGF0YVswXSA6IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVc2VyQWdlbnQodWEpIHtcbiAgICB2YXIgbWF0Y2hlZFJ1bGUgPSBtYXRjaFVzZXJBZ2VudCh1YSk7XG4gICAgaWYgKCFtYXRjaGVkUnVsZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG5hbWUgPSBtYXRjaGVkUnVsZVswXSwgbWF0Y2ggPSBtYXRjaGVkUnVsZVsxXTtcbiAgICBpZiAobmFtZSA9PT0gJ3NlYXJjaGJvdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3RJbmZvKCk7XG4gICAgfVxuICAgIC8vIERvIG5vdCB1c2UgUmVnRXhwIGZvciBzcGxpdCBvcGVyYXRpb24gYXMgc29tZSBicm93c2VyIGRvIG5vdCBzdXBwb3J0IGl0IChTZWU6IGh0dHA6Ly9ibG9nLnN0ZXZlbmxldml0aGFuLmNvbS9hcmNoaXZlcy9jcm9zcy1icm93c2VyLXNwbGl0KVxuICAgIHZhciB2ZXJzaW9uUGFydHMgPSBtYXRjaFsxXSAmJiBtYXRjaFsxXS5zcGxpdCgnLicpLmpvaW4oJ18nKS5zcGxpdCgnXycpLnNsaWNlKDAsIDMpO1xuICAgIGlmICh2ZXJzaW9uUGFydHMpIHtcbiAgICAgICAgaWYgKHZlcnNpb25QYXJ0cy5sZW5ndGggPCBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTKSB7XG4gICAgICAgICAgICB2ZXJzaW9uUGFydHMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIHZlcnNpb25QYXJ0cywgdHJ1ZSksIGNyZWF0ZVZlcnNpb25QYXJ0cyhSRVFVSVJFRF9WRVJTSU9OX1BBUlRTIC0gdmVyc2lvblBhcnRzLmxlbmd0aCksIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2ZXJzaW9uUGFydHMgPSBbXTtcbiAgICB9XG4gICAgdmFyIHZlcnNpb24gPSB2ZXJzaW9uUGFydHMuam9pbignLicpO1xuICAgIHZhciBvcyA9IGRldGVjdE9TKHVhKTtcbiAgICB2YXIgc2VhcmNoQm90TWF0Y2ggPSBTRUFSQ0hCT1RfT1NfUkVHRVguZXhlYyh1YSk7XG4gICAgaWYgKHNlYXJjaEJvdE1hdGNoICYmIHNlYXJjaEJvdE1hdGNoWzFdKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VhcmNoQm90RGV2aWNlSW5mbyhuYW1lLCB2ZXJzaW9uLCBvcywgc2VhcmNoQm90TWF0Y2hbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJyb3dzZXJJbmZvKG5hbWUsIHZlcnNpb24sIG9zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RPUyh1YSkge1xuICAgIGZvciAodmFyIGlpID0gMCwgY291bnQgPSBvcGVyYXRpbmdTeXN0ZW1SdWxlcy5sZW5ndGg7IGlpIDwgY291bnQ7IGlpKyspIHtcbiAgICAgICAgdmFyIF9hID0gb3BlcmF0aW5nU3lzdGVtUnVsZXNbaWldLCBvcyA9IF9hWzBdLCByZWdleCA9IF9hWzFdO1xuICAgICAgICB2YXIgbWF0Y2ggPSByZWdleC5leGVjKHVhKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gb3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVZlcnNpb24oKSB7XG4gICAgdmFyIGlzTm9kZSA9IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnZlcnNpb247XG4gICAgcmV0dXJuIGlzTm9kZSA/IG5ldyBOb2RlSW5mbyhwcm9jZXNzLnZlcnNpb24uc2xpY2UoMSkpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZlcnNpb25QYXJ0cyhjb3VudCkge1xuICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgY291bnQ7IGlpKyspIHtcbiAgICAgICAgb3V0cHV0LnB1c2goJzAnKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbiIsImltcG9ydCB7IFRhdGVnYWtpIH0gZnJvbSAnLi90YXRlZ2FraSdcbmltcG9ydCB7IGRldGVjdCB9IGZyb20gJ2RldGVjdC1icm93c2VyJ1xuXG5jb25zdCBicm93c2VyID0gZGV0ZWN0KClcbmNvbnN0IGlzRmlyZWZveCA9IGJyb3dzZXIgJiYgYnJvd3Nlci5uYW1lID09PSAnZmlyZWZveCdcbmNvbnN0IGlzQ2hyb21lID0gYnJvd3NlciAmJiBicm93c2VyLm5hbWUgPT09ICdjaHJvbWUnXG5pZiAoYnJvd3Nlcikge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChicm93c2VyLm5hbWUpXG59XG5cbmxldCBhcnRpY2xlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYXJ0aWNsZScpKVxuYXJ0aWNsZXMuZm9yRWFjaChhcnRpY2xlID0+IHtcbiAgICBsZXQgdGF0ZWdha2kgPSBuZXcgVGF0ZWdha2koYXJ0aWNsZSwgdHJ1ZSwgaXNGaXJlZm94IHx8IGlzQ2hyb21lLCB0cnVlKVxuXG4gICAgdGF0ZWdha2kucGFyc2UoKVxufSlcbiJdLCJuYW1lcyI6WyJTdHJpbmdGb3JtYXRHdWlkZSIsIlN0cmluZyIsInByb3RvdHlwZSIsInNlZ21lbnRpc2UiLCJyZSIsIm1hdGNoIiwic3RyIiwidGhpcyIsInNlZ21lbnRzIiwiaW5kZXgiLCJleGVjIiwiZm9ybWF0R3VpZGUiLCJwdXNoIiwiY29udGVudCIsInN1YnN0cmluZyIsImFtYmlndW91cyIsImNqa1B1bmMiLCJmdWxsd2lkdGhBbHBoYWJldCIsImxhdGluIiwia2FuYSIsImxlbmd0aCIsIlRhdGVnYWtpIiwicm9vdEVsZW1lbnQiLCJzaG91bGRQY1MiLCJpbWl0YXRlUGNTIiwiaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoIiwic2hvdWxkUmVtb3ZlU3R5bGUiLCJzZXRFbGVtZW50QXR0cmlidXRlcyIsImVsZW1lbnQiLCJzZWdtZW50IiwiaW5uZXJIVE1MIiwicG9zdFByb2Nlc3MiLCJzZXRBdHRyaWJ1dGUiLCJzcXVlZXplIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dCIsInJlcGxhY2UiLCJmb3JtYXQiLCJub2RlIiwicGFzc1VudGlsUGFyYSIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsIm5vZGVWYWx1ZSIsInRyaW0iLCJjb3JyZWN0UHVuY3MiLCJwYXJlbnRFbGVtZW50IiwiY2hpbGRFbGVtZW50Q291bnQiLCJmb3JFYWNoIiwic3ViRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVyVGV4dCIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwibm9kZU5hbWUiLCJpc1BhcmEiLCJBcnJheSIsImZyb20iLCJjaGlsZE5vZGVzIiwiY2hpbGROb2RlIiwicmVtb3ZlU3R5bGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjaGlsZHJlbiIsImNoaWxkIiwicHVuY3MiLCJzcGxpdCIsIm1hcCIsInB1bmMiLCJ0ZXN0IiwiaXNPcGVuaW5nQnJhY2tldCIsImNoYXJDb2RlQXQiLCJyZXN1bHQiLCJqb2luIiwidHJhbnNmcm9tVG9GdWxsV2lkdGgiLCJ4IiwiYmFzZSIsIm5ld0Jhc2UiLCJjdXJyZW50IiwiZnJvbUNoYXJDb2RlIiwidGN5IiwiZG9jdW1lbnRFbGVtZW50IiwiZm9udFNpemVSYXciLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwiZm9udFNpemUiLCJwYXJzZUludCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiY29udGFpbnMiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJyZW1vdmUiLCJtYXRjaGVzIiwibmV3RWxlbWVudCIsImRpZ2l0IiwicmVwbGFjZVdpdGgiLCJ0aHJlc2hvbGQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoZWlnaHQiLCJjb3JyZWN0QW1iaWd1b3VzIiwicGFyc2UiLCJjb25zdHJ1Y3RvciIsIl9fc3ByZWFkQXJyYXkiLCJ0byIsInBhY2siLCJhcmd1bWVudHMiLCJhciIsImkiLCJsIiwic2xpY2UiLCJjYWxsIiwiY29uY2F0IiwiQnJvd3NlckluZm8iLCJuYW1lIiwidmVyc2lvbiIsIm9zIiwidHlwZSIsIlNlYXJjaEJvdERldmljZUluZm8iLCJib3QiLCJCb3RJbmZvIiwiU0VBUkNIQk9UX09TX1JFR0VYIiwidXNlckFnZW50UnVsZXMiLCJvcGVyYXRpbmdTeXN0ZW1SdWxlcyIsInBhcnNlVXNlckFnZW50IiwidWEiLCJtYXRjaGVkUnVsZSIsInJlZHVjZSIsIm1hdGNoZWQiLCJfYSIsImJyb3dzZXIiLCJyZWdleCIsInVhTWF0Y2giLCJtYXRjaFVzZXJBZ2VudCIsInZlcnNpb25QYXJ0cyIsImNvdW50Iiwib3V0cHV0IiwiaWkiLCJjcmVhdGVWZXJzaW9uUGFydHMiLCJkZXRlY3RPUyIsInNlYXJjaEJvdE1hdGNoIiwibmF2aWdhdG9yIiwicHJvZHVjdCIsInVzZXJBZ2VudCIsInByb2Nlc3MiLCJwbGF0Zm9ybSIsImlzRmlyZWZveCIsImlzQ2hyb21lIiwiYm9keSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcnRpY2xlIl0sInNvdXJjZVJvb3QiOiIifQ==