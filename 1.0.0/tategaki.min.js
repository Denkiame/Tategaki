(()=>{"use strict";var e;!function(e){e.default="default",e.cjkPunc="cjk-punc",e.fullwidthAlphabet="fullwidth-alphabet",e.latin="latin",e.kana="kana",e.ambiguous="ambiguous"}(e||(e={})),String.prototype.segmentise=function(t){let n,i=String(this),s=[],o=0;for(;n=t.exec(i);){let t;n.index>o&&s.push({content:i.substring(o,n.index),formatGuide:e.default}),n[1]?t=e.ambiguous:n[2]?t=e.cjkPunc:n[3]?t=e.fullwidthAlphabet:n[4]?t=e.latin:n[5]&&(t=e.kana),s.push({content:n[0],formatGuide:t}),o=n.index+n[0].length}return i.length>o&&s.push({content:i.substring(o),formatGuide:e.default}),s};class t{rootElement;shouldPcS;imitatePcS;imitateTransfromToFullWidth;shouldRemoveStyle;setElementAttributes(t,n){switch(n.formatGuide){case e.default:return void(t.innerHTML=this.postProcess(n.content));case e.latin:t.setAttribute("lang","en");break;case e.cjkPunc:this.shouldPcS&&(t.innerHTML=this.squeeze(n.content))}t.classList.add(n.formatGuide)}postProcess(e){return e.replace(/\n[ \n]*/g,'<br /><span class="indent"></span>')}format(e,t=!0){if(e.nodeType===Node.TEXT_NODE){let t=e.nodeValue;if(!t.trim())return;t=this.correctPuncs(t);let n=/([\u002f\u2013]+|――)|([\u3001\u3002\u301d\u301f\uff01\uff0c\uff1a\uff1b\uff1f\u3008-\u3011\u3014-\u301B\uff08\uff09]+)|([\uff21-\uff3a\uff41-\uff5a]+)|([\p{Script=Latin}0-9\u0020-\u0023\u0025-\u002b\u002c-\u002e\u003a\u003b\u003f\u0040\u005b-\u005d\u005f\u007b\u007d\u00a1\u00a7\u00ab\u00b2\u00b3\u00b6\u00b7\u00b9\u00bb-\u00bf\u2010-\u2012\u2018\u2019\u201c\u201d\u2020\u2021\u2026\u2027\u2030\u2032-\u2037\u2039\u203a\u203c-\u203e\u2047-\u2049\u204e\u2057\u2070\u2074-\u2079\u2080-\u2089\u2150\u2153\u2154\u215b-\u215e\u2160-\u217f\u2474-\u249b\u2e18\u2e2e]+)|([\u3041-\u309f\u30a0-\u30fa\u30fc\u30ff]+)/gu,i=t.segmentise(n),s=e.parentElement;return void(s.childElementCount||1!==i.length?(i.forEach((t=>{let n=document.createElement("span");n.innerText=t.content,this.setElementAttributes(n,t),s.insertBefore(n,e)})),s.removeChild(e)):this.setElementAttributes(s,i[0]))}if("BR"===e.nodeName)return;const n="P"===e.nodeName||"BLOCKQUOTE"===e.nodeName;Array.from(e.childNodes).forEach((e=>{this.format(e,!n&&t)}))}removeStyle(e=this.rootElement){e.removeAttribute("style"),e.removeAttribute("width"),e.removeAttribute("height"),Array.from(e.children,(e=>{this.removeStyle(e)}))}correctPuncs(e){return e.replace(/——|──/g,"――").replace(/……/g,"⋯⋯")}squeeze(e){return e.split("").map((e=>{if(/[\u3001\u3002\uff0c\uff01\uff1a\uff1b\uff1f]/.test(e))return`<span class="squeeze-other-punc">${e}</span>`;const t="〝"===e||e.charCodeAt(0)%2==0;let n=`<span class="${t?"squeeze-in":"squeeze-out"}">${e}</span>`;return this.imitatePcS?t?'<span class="squeeze-in-space"></span>'+n:n+'<span class="squeeze-out-space"></span>':n})).join("")}transfromToFullWidth(e){const t="0".charCodeAt(0),n="０".charCodeAt(0),i=e.charCodeAt(0);return String.fromCharCode(i-t+n)}tcy(t=!1){let n=document.documentElement,i=window.getComputedStyle(n).fontSize.match(/(\d+)px/)[1],s=parseInt(i);Array.from(this.rootElement.getElementsByClassName(e.latin)).forEach((n=>{const i=n.innerHTML.trim();if(!(n.previousElementSibling&&n.previousElementSibling.classList.contains(e.ambiguous)||n.nextElementSibling&&n.nextElementSibling.classList.contains(e.ambiguous))&&/^[\w\p{Script=Latin}]/u.test(i)&&"I"!=n.nodeName&&"EM"!=n.nodeName&&"I"!=n.parentElement.nodeName&&"EM"!=n.parentElement.nodeName)if(1==i.length)t?n.innerHTML=this.transfromToFullWidth(i):(n.innerHTML=i,n.classList.add("to-fullwidth")),n.classList.remove("latin"),n.removeAttribute("lang");else if(/^([A-Z]{3,10}|\d{4,10})$/.test(i))t?n.innerHTML=Array.from(i,(e=>this.transfromToFullWidth(e))).join(""):(n.innerHTML=i,n.classList.add("to-fullwidth")),n.classList.remove("latin"),n.removeAttribute("lang");else if(/^[A-Z]{2}$|^\d{2,3}$/.test(i))n.innerHTML=i,n.classList.remove("latin"),n.removeAttribute("lang"),n.classList.add("tcy");else if(/^\d{1,3}%$/.test(i)){const e=/^(\d{1,3})%$/.exec(i);let t=document.createElement("span"),s=e[1];1===s.length&&(s=this.transfromToFullWidth(s)),t.innerHTML=`<span ${1==s.length?"":'class="tcy"'}>${s}</span>&#8288;％`,n.replaceWith(t)}else{let e=s;n.innerHTML!=i?e*=1.5:e*=1.333,n.getBoundingClientRect().height<=e&&(n.innerHTML=i,n.classList.add("tcy"))}}))}correctAmbiguous(){Array.from(document.getElementsByClassName(e.ambiguous),(t=>{if(t.previousElementSibling&&t.nextElementSibling)if("――"!==t.innerHTML)if(t.previousElementSibling.classList.contains(e.latin)&&t.nextElementSibling.classList.contains(e.latin))t.classList.add("latin");else switch(t.innerHTML){case"/":t.innerHTML="／";break;case"–":t.innerHTML="―"}else t.classList.add("aalt-on");else t.classList.add("latin")}))}parse(){this.shouldRemoveStyle&&this.removeStyle(),this.rootElement.classList.add("tategaki"),this.rootElement.classList.add(this.imitatePcS?"imitate-pcs":"opentype-pcs"),this.format(this.rootElement),this.tcy(this.imitateTransfromToFullWidth),this.correctAmbiguous()}constructor(e,t=!0,n=!0,i=!0,s=!1){this.rootElement=e,this.shouldPcS=t,this.imitatePcS=n,this.imitateTransfromToFullWidth=i,this.shouldRemoveStyle=s}}var n=function(e,t,n){if(n||2===arguments.length)for(var i,s=0,o=t.length;s<o;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e,t,n,i){this.name=e,this.version=t,this.os=n,this.bot=i,this.type="bot-device"},o=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},r=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function l(e){var t=function(e){return""!==e&&a.reduce((function(t,n){var i=n[0],s=n[1];if(t)return t;var o=s.exec(e);return!!o&&[i,o]}),!1)}(e);if(!t)return null;var l=t[0],c=t[1];if("searchbot"===l)return new o;var d=c[1]&&c[1].split(".").join("_").split("_").slice(0,3);d?d.length<3&&(d=n(n([],d,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-d.length),!0)):d=[];var m=d.join("."),f=function(e){for(var t=0,n=u.length;t<n;t++){var i=u[t],s=i[0];if(i[1].exec(e))return s}return null}(e),h=r.exec(e);return h&&h[1]?new s(l,m,f,h[1]):new i(l,m,f)}const c="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}:"undefined"!=typeof navigator?l(navigator.userAgent):"undefined"!=typeof process&&process.version?new function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}(process.version.slice(1)):null;c&&document.body.classList.add(c.name),Array.from(document.getElementsByClassName("tategaki")).forEach((e=>{new t(e,!0,!0,!0).parse()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ekRvQixHQUNBL0UsU0FBUytGLEtBQUtoSCxVQUFVQyxJQUFJK0YsRUFBUWhCLE1BRzdCeEQsTUFBTUMsS0FBS1IsU0FBU3FDLHVCQUF1QixhQUNqRHZDLFNBQVFrRyxJQUNNLElBQUk5SCxFQUFTOEgsR0FBRyxHQUFNLEdBQU0sR0FFbEM5QyxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF0ZWdha2kvLi9zcmMvZm9ybWF0U2VnbWVudC50cyIsIndlYnBhY2s6Ly90YXRlZ2FraS8uL3NyYy9leHRlbnNpb25zLnRzIiwid2VicGFjazovL3RhdGVnYWtpLy4vc3JjL3RhdGVnYWtpLnRzIiwid2VicGFjazovL3RhdGVnYWtpLy4vbm9kZV9tb2R1bGVzL2RldGVjdC1icm93c2VyL2VzL2luZGV4LmpzIiwid2VicGFjazovL3RhdGVnYWtpLy4vc3JjL2V4dGVybmFsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIFN0cmluZ0Zvcm1hdEd1aWRlIHtcbiAgICBkZWZhdWx0ID0gJ2RlZmF1bHQnLFxuICAgIGNqa1B1bmMgPSAnY2prLXB1bmMnLFxuICAgIGZ1bGx3aWR0aEFscGhhYmV0ID0gJ2Z1bGx3aWR0aC1hbHBoYWJldCcsXG4gICAgbGF0aW4gPSAnbGF0aW4nLFxuICAgIGthbmEgPSAna2FuYScsXG4gICAgYW1iaWd1b3VzID0gJ2FtYmlndW91cycsXG59XG5cbmV4cG9ydCB0eXBlIFN0cmluZ0Zvcm1hdFNlZ21lbnQgPSB7XG4gICAgY29udGVudDogc3RyaW5nXG4gICAgZm9ybWF0R3VpZGU6IFN0cmluZ0Zvcm1hdEd1aWRlXG59XG4iLCJpbXBvcnQgeyBTdHJpbmdGb3JtYXRTZWdtZW50LCBTdHJpbmdGb3JtYXRHdWlkZSB9IGZyb20gJy4vZm9ybWF0U2VnbWVudCdcblxuZGVjbGFyZSBnbG9iYWwge1xuICAgIGludGVyZmFjZSBTdHJpbmcge1xuICAgICAgICBzZWdtZW50aXNlKHJlOiBSZWdFeHApOiBTdHJpbmdGb3JtYXRTZWdtZW50W11cbiAgICB9XG59XG5cblN0cmluZy5wcm90b3R5cGUuc2VnbWVudGlzZSA9IGZ1bmN0aW9uIChyZSkge1xuICAgIGxldCBzdHIgPSBTdHJpbmcodGhpcykgXG4gICAgbGV0IHNlZ21lbnRzOiBTdHJpbmdGb3JtYXRTZWdtZW50W10gPSBbXVxuICAgIGxldCBpbmRleDogbnVtYmVyID0gMFxuICAgIGxldCBtYXRjaDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbFxuICAgIHdoaWxlIChtYXRjaCA9IHJlLmV4ZWMoc3RyKSkge1xuICAgICAgICBpZiAobWF0Y2guaW5kZXggPiBpbmRleCkge1xuICAgICAgICAgICAgc2VnbWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29udGVudDogc3RyLnN1YnN0cmluZyhpbmRleCwgbWF0Y2guaW5kZXgpLFxuICAgICAgICAgICAgICAgIGZvcm1hdEd1aWRlOiBTdHJpbmdGb3JtYXRHdWlkZS5kZWZhdWx0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZvcm1hdEd1aWRlOiBTdHJpbmdGb3JtYXRHdWlkZVxuICAgICAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgICAgICAgIGZvcm1hdEd1aWRlID0gU3RyaW5nRm9ybWF0R3VpZGUuYW1iaWd1b3VzXG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgICAgIGZvcm1hdEd1aWRlID0gU3RyaW5nRm9ybWF0R3VpZGUuY2prUHVuY1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICBmb3JtYXRHdWlkZSA9IFN0cmluZ0Zvcm1hdEd1aWRlLmZ1bGx3aWR0aEFscGhhYmV0XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgICAgIGZvcm1hdEd1aWRlID0gU3RyaW5nRm9ybWF0R3VpZGUubGF0aW5cbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFs1XSkge1xuICAgICAgICAgICAgZm9ybWF0R3VpZGUgPSBTdHJpbmdGb3JtYXRHdWlkZS5rYW5hXG4gICAgICAgIH1cblxuICAgICAgICBzZWdtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IG1hdGNoWzBdLFxuICAgICAgICAgICAgZm9ybWF0R3VpZGU6IGZvcm1hdEd1aWRlXG4gICAgICAgIH0pXG4gICAgICAgIGluZGV4ID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGhcbiAgICB9XG4gICAgXG4gICAgaWYgKHN0ci5sZW5ndGggPiBpbmRleCkge1xuICAgICAgICBzZWdtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHN0ci5zdWJzdHJpbmcoaW5kZXgpLFxuICAgICAgICAgICAgZm9ybWF0R3VpZGU6IFN0cmluZ0Zvcm1hdEd1aWRlLmRlZmF1bHRcbiAgICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHNlZ21lbnRzXG59XG4iLCJpbXBvcnQgeyBTdHJpbmdGb3JtYXRTZWdtZW50LCBTdHJpbmdGb3JtYXRHdWlkZSB9IGZyb20gJy4vZm9ybWF0U2VnbWVudCdcbmltcG9ydCAnLi9leHRlbnNpb25zJ1xuXG5cbmV4cG9ydCBjbGFzcyBUYXRlZ2FraSB7XG4gICAgcm9vdEVsZW1lbnQ6IEVsZW1lbnRcblxuICAgIHNob3VsZFBjUzogYm9vbGVhblxuICAgIGltaXRhdGVQY1M6IGJvb2xlYW5cbiAgICBpbWl0YXRlVHJhbnNmcm9tVG9GdWxsV2lkdGg6IGJvb2xlYW5cbiAgICBzaG91bGRSZW1vdmVTdHlsZTogYm9vbGVhblxuICAgIFxuXG4gICAgcHJpdmF0ZSBzZXRFbGVtZW50QXR0cmlidXRlcyhlbGVtZW50OiBFbGVtZW50LCBzZWdtZW50OiBTdHJpbmdGb3JtYXRTZWdtZW50KSB7XG4gICAgICAgIHN3aXRjaChzZWdtZW50LmZvcm1hdEd1aWRlKSB7XG4gICAgICAgICAgICBjYXNlIFN0cmluZ0Zvcm1hdEd1aWRlLmRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICB0aGlzLnBvc3RQcm9jZXNzKHNlZ21lbnQuY29udGVudClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgU3RyaW5nRm9ybWF0R3VpZGUubGF0aW46IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnbGFuZycsICdlbicpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgU3RyaW5nRm9ybWF0R3VpZGUuY2prUHVuYzoge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZFBjUykge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRoaXMuc3F1ZWV6ZShzZWdtZW50LmNvbnRlbnQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoc2VnbWVudC5mb3JtYXRHdWlkZSlcbiAgICB9XG5cbiAgICBwcml2YXRlIHBvc3RQcm9jZXNzKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0ZXh0XG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuWyBcXG5dKi9nLCBgPGJyIC8+PHNwYW4gY2xhc3M9XCJpbmRlbnRcIj48L3NwYW4+YClcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdChub2RlOiBOb2RlLCBwYXNzVW50aWxQYXJhOiBib29sZWFuPXRydWUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IG5vZGUubm9kZVZhbHVlIVxuICAgICAgICAgICAgaWYgKCF0ZXh0LnRyaW0oKSkgeyByZXR1cm4gfVxuICAgICAgICAgICAgdGV4dCA9IHRoaXMuY29ycmVjdFB1bmNzKHRleHQpXG5cbiAgICAgICAgICAgIC8vIChBTUJJR1VPVVMpfChDSktfUFVOQyl8KEZVTExfV0lEVEhfQUxQSEFCRVQpfChMQVRJTil8KEtBTkEpXG4gICAgICAgICAgICBsZXQgcmUgPSAvKFtcXHUwMDJmXFx1MjAxM10rfOKAleKAlSl8KFtcXHUzMDAxXFx1MzAwMlxcdTMwMWRcXHUzMDFmXFx1ZmYwMVxcdWZmMGNcXHVmZjFhXFx1ZmYxYlxcdWZmMWZcXHUzMDA4LVxcdTMwMTFcXHUzMDE0LVxcdTMwMUJcXHVmZjA4XFx1ZmYwOV0rKXwoW1xcdWZmMjEtXFx1ZmYzYVxcdWZmNDEtXFx1ZmY1YV0rKXwoW1xccHtTY3JpcHQ9TGF0aW59MC05XFx1MDAyMC1cXHUwMDIzXFx1MDAyNS1cXHUwMDJiXFx1MDAyYy1cXHUwMDJlXFx1MDAzYVxcdTAwM2JcXHUwMDNmXFx1MDA0MFxcdTAwNWItXFx1MDA1ZFxcdTAwNWZcXHUwMDdiXFx1MDA3ZFxcdTAwYTFcXHUwMGE3XFx1MDBhYlxcdTAwYjJcXHUwMGIzXFx1MDBiNlxcdTAwYjdcXHUwMGI5XFx1MDBiYi1cXHUwMGJmXFx1MjAxMC1cXHUyMDEyXFx1MjAxOFxcdTIwMTlcXHUyMDFjXFx1MjAxZFxcdTIwMjBcXHUyMDIxXFx1MjAyNlxcdTIwMjdcXHUyMDMwXFx1MjAzMi1cXHUyMDM3XFx1MjAzOVxcdTIwM2FcXHUyMDNjLVxcdTIwM2VcXHUyMDQ3LVxcdTIwNDlcXHUyMDRlXFx1MjA1N1xcdTIwNzBcXHUyMDc0LVxcdTIwNzlcXHUyMDgwLVxcdTIwODlcXHUyMTUwXFx1MjE1M1xcdTIxNTRcXHUyMTViLVxcdTIxNWVcXHUyMTYwLVxcdTIxN2ZcXHUyNDc0LVxcdTI0OWJcXHUyZTE4XFx1MmUyZV0rKXwoW1xcdTMwNDEtXFx1MzA5ZlxcdTMwYTAtXFx1MzBmYVxcdTMwZmNcXHUzMGZmXSspL2d1XG5cbiAgICAgICAgICAgIGxldCBzZWdtZW50cyA9IHRleHQuc2VnbWVudGlzZShyZSlcblxuICAgICAgICAgICAgbGV0IHBhcmVudEVsZW1lbnQgPSBub2RlLnBhcmVudEVsZW1lbnRcbiAgICAgICAgICAgIGlmICghcGFyZW50RWxlbWVudC5jaGlsZEVsZW1lbnRDb3VudCAmJiBzZWdtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVsZW1lbnRBdHRyaWJ1dGVzKHBhcmVudEVsZW1lbnQsIHNlZ21lbnRzWzBdKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50cy5mb3JFYWNoKHNlZ21lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3ViRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgICAgICAgICAgICAgICAgICBzdWJFbGVtZW50LmlubmVyVGV4dCA9IHNlZ21lbnQuY29udGVudFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVsZW1lbnRBdHRyaWJ1dGVzKHN1YkVsZW1lbnQsIHNlZ21lbnQpXG5cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoc3ViRWxlbWVudCwgbm9kZSlcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChub2RlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09PSAnQlInKSB7IHJldHVybiB9XG4gICAgICAgIGNvbnN0IGlzUGFyYSA9IG5vZGUubm9kZU5hbWUgPT09ICdQJyB8fCBub2RlLm5vZGVOYW1lID09PSAnQkxPQ0tRVU9URSdcblxuICAgICAgICBsZXQgY2hpbGROb2RlcyA9IEFycmF5LmZyb20obm9kZS5jaGlsZE5vZGVzKVxuICAgICAgICBjaGlsZE5vZGVzLmZvckVhY2goY2hpbGROb2RlID0+IHtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0KGNoaWxkTm9kZSwgaXNQYXJhID8gZmFsc2UgOiBwYXNzVW50aWxQYXJhKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlU3R5bGUoZWxlbWVudDogRWxlbWVudD10aGlzLnJvb3RFbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd3aWR0aCcpXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdoZWlnaHQnKVxuXG4gICAgICAgIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZHJlbiwgY2hpbGQgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVTdHlsZShjaGlsZClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBSYXcgcmVwbGFjZW1lbnRzIGZvciBzcGVjaWZpYyBwdW5jcyAmIHN5bWJvbHNcbiAgICBwcml2YXRlIGNvcnJlY3RQdW5jcyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGV4dFxuICAgICAgICAgICAgLnJlcGxhY2UoL+KAlOKAlHzilIDilIAvZywgJ+KAleKAlScpXG4gICAgICAgICAgICAucmVwbGFjZSgv4oCm4oCmL2csICfii6/ii68nKVxuICAgIH1cblxuICAgIHByaXZhdGUgc3F1ZWV6ZShwdW5jczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHB1bmNzLnNwbGl0KCcnKS5tYXAocHVuYyA9PiB7XG4gICAgICAgICAgICBpZiAoL1tcXHUzMDAxXFx1MzAwMlxcdWZmMGNcXHVmZjAxXFx1ZmYxYVxcdWZmMWJcXHVmZjFmXS8udGVzdChwdW5jKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJzcXVlZXplLW90aGVyLXB1bmNcIj4ke3B1bmN9PC9zcGFuPmBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaXNPcGVuaW5nQnJhY2tldCA9IHB1bmMgPT09ICdcXHUzMDFkJyB8fCBwdW5jLmNoYXJDb2RlQXQoMCkgJSAyID09PSAwXG4gICAgICAgICAgICBjb25zdCBzcXVlZXplQ2xhc3MgPSBpc09wZW5pbmdCcmFja2V0ID8gJ3NxdWVlemUtaW4nIDogJ3NxdWVlemUtb3V0J1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGA8c3BhbiBjbGFzcz1cIiR7c3F1ZWV6ZUNsYXNzfVwiPiR7cHVuY308L3NwYW4+YFxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaW1pdGF0ZVBjUykgeyByZXR1cm4gcmVzdWx0IH1cblxuICAgICAgICAgICAgaWYgKGlzT3BlbmluZ0JyYWNrZXQpIHtcbiAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCJzcXVlZXplLWluLXNwYWNlXCI+PC9zcGFuPmAgKyByZXN1bHQgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCArIGA8c3BhbiBjbGFzcz1cInNxdWVlemUtb3V0LXNwYWNlXCI+PC9zcGFuPmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuam9pbignJylcbiAgICB9XG5cbiAgICAvLyBTaW5jZSBub3QgYWxsIGJyb3dzZXIgc3VwcG9ydCBmdWxsLXdpZHRoIHRyYW5zZm9ybWF0aW9uLFxuICAgIC8vIGl0J2xsIGRvIHNvbWUgdW5pY29kZSBjYWxjIHRvIGRvIHRoYXQuXG4gICAgLy8gRGVsdGEgYmV0d2VlbiBjb2RlcyBvZiBjaGFyYWN0ZXJzIGluIGZ1bGwtd2lkdGggaXMgYXMgc2FtZSBcbiAgICAvLyBhcyBBU0NJSSwgc28gY2hvb3NlIHplcm8gYXMgYmFzZSBmb3IgY2FsY3VsYXRpb25cbiAgICBwcml2YXRlIHRyYW5zZnJvbVRvRnVsbFdpZHRoKHg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGJhc2UgPSAnMCcuY2hhckNvZGVBdCgwKVxuICAgICAgICBjb25zdCBuZXdCYXNlID0gJ1xcdWZmMTAnLmNoYXJDb2RlQXQoMClcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHguY2hhckNvZGVBdCgwKVxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjdXJyZW50IC0gYmFzZSArIG5ld0Jhc2UpXG4gICAgfVxuXG4gICAgLy8gWW9rb2dha2kgaW4gVGF0ZWdha2kgKFRhdGVnYWtpLUNoeXUtWW9rb2dha2kpXG4gICAgcHJpdmF0ZSB0Y3koaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoOiBib29sZWFuPWZhbHNlKSB7XG4gICAgICAgIGxldCBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICAgICAgbGV0IGZvbnRTaXplUmF3ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnRFbGVtZW50KS5mb250U2l6ZS5tYXRjaCgvKFxcZCspcHgvKVsxXVxuICAgICAgICBsZXQgZm9udFNpemUgPSBwYXJzZUludChmb250U2l6ZVJhdylcblxuICAgICAgICBsZXQgZWxlbWVudHMgPSBBcnJheS5mcm9tKHRoaXMucm9vdEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShTdHJpbmdGb3JtYXRHdWlkZS5sYXRpbikpXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gZWxlbWVudC5pbm5lckhUTUwudHJpbSgpXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIFxuICAgICAgICAgICAgICAgIGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoU3RyaW5nRm9ybWF0R3VpZGUuYW1iaWd1b3VzKSB8fCBcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZyAmJlxuICAgICAgICAgICAgICAgIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucyhTdHJpbmdGb3JtYXRHdWlkZS5hbWJpZ3VvdXMpKSB7IHJldHVybiB9XG5cbiAgICAgICAgICAgIGlmICgvXltcXHdcXHB7U2NyaXB0PUxhdGlufV0vdS50ZXN0KHRleHQpICYmIFxuICAgICAgICAgICAgICAgIGVsZW1lbnQubm9kZU5hbWUgIT0gJ0knICYmIFxuICAgICAgICAgICAgICAgIGVsZW1lbnQubm9kZU5hbWUgIT0gJ0VNJyAmJlxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5ub2RlTmFtZSAhPSAnSScgJiZcbiAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQubm9kZU5hbWUgIT0gJ0VNJykge1xuICAgICAgICAgICAgICAgIC8vIFdvcmRzIHdpdGggb25seSBvbmUgbGV0dHJlIHNob3VsZCB0dXJuIHRvIGZ1bGwtd2lkdGhcbiAgICAgICAgICAgICAgICAvLyBhbmQgbG9zZSBgbGF0aW5gIGNsYXNzXG4gICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLnRyYW5zZnJvbVRvRnVsbFdpZHRoKHRleHQpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndG8tZnVsbHdpZHRoJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2xhdGluJylcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2xhbmcnKVxuICAgICAgICAgICAgICAgIC8vIEFiYnJldmlhdGlvbnMgYW5kIG51bWJlcnMgbm8gbW9yZSB0aGFuIDQgZGlnaXRzIHNob3VsZFxuICAgICAgICAgICAgICAgIC8vIHR1cm4gdG8gZnVsbC13aWR0aFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL14oW0EtWl17MywxMH18XFxkezQsMTB9KSQvLnRlc3QodGV4dCkpICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWl0YXRlVHJhbnNmcm9tVG9GdWxsV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gQXJyYXkuZnJvbSh0ZXh0LCB4ID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmcm9tVG9GdWxsV2lkdGgoeCkpLmpvaW4oJycpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndG8tZnVsbHdpZHRoJylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2xhdGluJylcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2xhbmcnKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL15bQS1aXXsyfSR8XlxcZHsyLDN9JC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRleHRcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdsYXRpbicpXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdsYW5nJylcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0Y3knKVxuICAgICAgICAgICAgICAgIC8vIFBlcmNlbnRhZ2VcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9eXFxkezEsM30lJC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gL14oXFxkezEsM30pJSQvLmV4ZWModGV4dClcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpZ2l0ID0gbWF0Y2hlc1sxXVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlnaXQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWdpdCA9IHRoaXMudHJhbnNmcm9tVG9GdWxsV2lkdGgoZGlnaXQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5pbm5lckhUTUwgPSBgPHNwYW4gJHtkaWdpdC5sZW5ndGggPT0gMSA/ICcnIDogJ2NsYXNzPVwidGN5XCInfT4ke2RpZ2l0fTwvc3Bhbj4mIzgyODg777yFYFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKG5ld0VsZW1lbnQpXG4gICAgICAgICAgICAgICAgLy8gTWVhc3VyZSBoZWlnaHQgb2YgdGhlIGVsZW1lbnQgdG8gZGVjaWRlIGlmIFRDWVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0aHJlc2hvbGQgPSBmb250U2l6ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5pbm5lckhUTUwgIT0gdGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmVlZCBhZGp1c3RpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCAqPSAxLjVcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZCAqPSAxLjMzM1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IDw9IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RjeScpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb3JyZWN0QW1iaWd1b3VzKCkge1xuICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoU3RyaW5nRm9ybWF0R3VpZGUuYW1iaWd1b3VzKSwgZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZyB8fCAhZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2xhdGluJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5pbm5lckhUTUwgPT09ICfigJXigJUnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhYWx0LW9uJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoU3RyaW5nRm9ybWF0R3VpZGUubGF0aW4pICYmXG4gICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKFN0cmluZ0Zvcm1hdEd1aWRlLmxhdGluKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbGF0aW4nKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2goZWxlbWVudC5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgICBjYXNlICcvJzoge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICfvvI8nXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ+KAkyc6IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAn4oCVJ1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwYXJzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkUmVtb3ZlU3R5bGUpIHsgdGhpcy5yZW1vdmVTdHlsZSgpIH1cblxuICAgICAgICB0aGlzLnJvb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RhdGVnYWtpJylcbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuaW1pdGF0ZVBjUyA/ICdpbWl0YXRlLXBjcycgOiAnb3BlbnR5cGUtcGNzJylcblxuICAgICAgICB0aGlzLmZvcm1hdCh0aGlzLnJvb3RFbGVtZW50KVxuXG4gICAgICAgIHRoaXMudGN5KHRoaXMuaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoKVxuXG4gICAgICAgIHRoaXMuY29ycmVjdEFtYmlndW91cygpXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Iocm9vdEVsZW1lbnQ6IEVsZW1lbnQsIFxuICAgICAgICAgICAgICAgIHNob3VsZFBjUzogYm9vbGVhbj10cnVlLCBpbWl0YXRlUGNTOiBib29sZWFuPXRydWUsIFxuICAgICAgICAgICAgICAgIGltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aDogYm9vbGVhbj10cnVlLFxuICAgICAgICAgICAgICAgIHNob3VsZFJlbW92ZVN0eWxlOiBib29sZWFuPWZhbHNlKSB7XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQgPSByb290RWxlbWVudFxuICAgICAgICB0aGlzLnNob3VsZFBjUyA9IHNob3VsZFBjU1xuICAgICAgICB0aGlzLmltaXRhdGVQY1MgPSBpbWl0YXRlUGNTXG4gICAgICAgIHRoaXMuaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoID0gaW1pdGF0ZVRyYW5zZnJvbVRvRnVsbFdpZHRoXG4gICAgICAgIHRoaXMuc2hvdWxkUmVtb3ZlU3R5bGUgPSBzaG91bGRSZW1vdmVTdHlsZVxuICAgIH1cbn1cbiIsInZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbnZhciBCcm93c2VySW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VySW5mbyhuYW1lLCB2ZXJzaW9uLCBvcykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLm9zID0gb3M7XG4gICAgICAgIHRoaXMudHlwZSA9ICdicm93c2VyJztcbiAgICB9XG4gICAgcmV0dXJuIEJyb3dzZXJJbmZvO1xufSgpKTtcbmV4cG9ydCB7IEJyb3dzZXJJbmZvIH07XG52YXIgTm9kZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9kZUluZm8odmVyc2lvbikge1xuICAgICAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbm9kZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdub2RlJztcbiAgICAgICAgdGhpcy5vcyA9IHByb2Nlc3MucGxhdGZvcm07XG4gICAgfVxuICAgIHJldHVybiBOb2RlSW5mbztcbn0oKSk7XG5leHBvcnQgeyBOb2RlSW5mbyB9O1xudmFyIFNlYXJjaEJvdERldmljZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VhcmNoQm90RGV2aWNlSW5mbyhuYW1lLCB2ZXJzaW9uLCBvcywgYm90KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMub3MgPSBvcztcbiAgICAgICAgdGhpcy5ib3QgPSBib3Q7XG4gICAgICAgIHRoaXMudHlwZSA9ICdib3QtZGV2aWNlJztcbiAgICB9XG4gICAgcmV0dXJuIFNlYXJjaEJvdERldmljZUluZm87XG59KCkpO1xuZXhwb3J0IHsgU2VhcmNoQm90RGV2aWNlSW5mbyB9O1xudmFyIEJvdEluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm90SW5mbygpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ2JvdCc7XG4gICAgICAgIHRoaXMuYm90ID0gdHJ1ZTsgLy8gTk9URTogZGVwcmVjYXRlZCB0ZXN0IG5hbWUgaW5zdGVhZFxuICAgICAgICB0aGlzLm5hbWUgPSAnYm90JztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBCb3RJbmZvO1xufSgpKTtcbmV4cG9ydCB7IEJvdEluZm8gfTtcbnZhciBSZWFjdE5hdGl2ZUluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVhY3ROYXRpdmVJbmZvKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSAncmVhY3QtbmF0aXZlJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ3JlYWN0LW5hdGl2ZSc7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub3MgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3ROYXRpdmVJbmZvO1xufSgpKTtcbmV4cG9ydCB7IFJlYWN0TmF0aXZlSW5mbyB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxudmFyIFNFQVJDSEJPWF9VQV9SRUdFWCA9IC9hbGV4YXxib3R8Y3Jhd2woZXJ8aW5nKXxmYWNlYm9va2V4dGVybmFsaGl0fGZlZWRidXJuZXJ8Z29vZ2xlIHdlYiBwcmV2aWV3fG5hZ2lvc3xwb3N0cmFua3xwaW5nZG9tfHNsdXJwfHNwaWRlcnx5YWhvbyF8eWFuZGV4LztcbnZhciBTRUFSQ0hCT1RfT1NfUkVHRVggPSAvKG51aGt8Y3VybHxHb29nbGVib3R8WWFtbXlib3R8T3BlbmJvdHxTbHVycHxNU05Cb3R8QXNrXFwgSmVldmVzXFwvVGVvbWF8aWFfYXJjaGl2ZXIpLztcbnZhciBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTID0gMztcbnZhciB1c2VyQWdlbnRSdWxlcyA9IFtcbiAgICBbJ2FvbCcsIC9BT0xTaGllbGRcXC8oWzAtOVxcLl9dKykvXSxcbiAgICBbJ2VkZ2UnLCAvRWRnZVxcLyhbMC05XFwuX10rKS9dLFxuICAgIFsnZWRnZS1pb3MnLCAvRWRnaU9TXFwvKFswLTlcXC5fXSspL10sXG4gICAgWyd5YW5kZXhicm93c2VyJywgL1lhQnJvd3NlclxcLyhbMC05XFwuX10rKS9dLFxuICAgIFsna2FrYW90YWxrJywgL0tBS0FPVEFMS1xccyhbMC05XFwuXSspL10sXG4gICAgWydzYW1zdW5nJywgL1NhbXN1bmdCcm93c2VyXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ3NpbGsnLCAvXFxiU2lsa1xcLyhbMC05Ll8tXSspXFxiL10sXG4gICAgWydtaXVpJywgL01pdWlCcm93c2VyXFwvKFswLTlcXC5dKykkL10sXG4gICAgWydiZWFrZXInLCAvQmVha2VyQnJvd3NlclxcLyhbMC05XFwuXSspL10sXG4gICAgWydlZGdlLWNocm9taXVtJywgL0VkZ0E/XFwvKFswLTlcXC5dKykvXSxcbiAgICBbXG4gICAgICAgICdjaHJvbWl1bS13ZWJ2aWV3JyxcbiAgICAgICAgLyg/IUNocm9tLipPUFIpd3ZcXCkuKkNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvLFxuICAgIF0sXG4gICAgWydjaHJvbWUnLCAvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gICAgWydwaGFudG9tanMnLCAvUGhhbnRvbUpTXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2NyaW9zJywgL0NyaU9TXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2ZpcmVmb3gnLCAvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sXG4gICAgWydmeGlvcycsIC9GeGlPU1xcLyhbMC05XFwuXSspL10sXG4gICAgWydvcGVyYS1taW5pJywgL09wZXJhIE1pbmkuKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsnb3BlcmEnLCAvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxuICAgIFsnb3BlcmEnLCAvT1BSXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgICBbJ2llJywgL1RyaWRlbnRcXC83XFwuMC4qcnZcXDooWzAtOVxcLl0rKS4qXFwpLipHZWNrbyQvXSxcbiAgICBbJ2llJywgL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wL10sXG4gICAgWydpZScsIC9NU0lFXFxzKDdcXC4wKS9dLFxuICAgIFsnYmIxMCcsIC9CQjEwO1xcc1RvdWNoLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcbiAgICBbJ2FuZHJvaWQnLCAvQW5kcm9pZFxccyhbMC05XFwuXSspL10sXG4gICAgWydpb3MnLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi9dLFxuICAgIFsnc2FmYXJpJywgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKlNhZmFyaS9dLFxuICAgIFsnZmFjZWJvb2snLCAvRkJbQVNdVlxcLyhbMC05XFwuXSspL10sXG4gICAgWydpbnN0YWdyYW0nLCAvSW5zdGFncmFtXFxzKFswLTlcXC5dKykvXSxcbiAgICBbJ2lvcy13ZWJ2aWV3JywgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKk1vYmlsZS9dLFxuICAgIFsnaW9zLXdlYnZpZXcnLCAvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qR2Vja29cXCkkL10sXG4gICAgWydjdXJsJywgL15jdXJsXFwvKFswLTlcXC5dKykkL10sXG4gICAgWydzZWFyY2hib3QnLCBTRUFSQ0hCT1hfVUFfUkVHRVhdLFxuXTtcbnZhciBvcGVyYXRpbmdTeXN0ZW1SdWxlcyA9IFtcbiAgICBbJ2lPUycsIC9pUChob25lfG9kfGFkKS9dLFxuICAgIFsnQW5kcm9pZCBPUycsIC9BbmRyb2lkL10sXG4gICAgWydCbGFja0JlcnJ5IE9TJywgL0JsYWNrQmVycnl8QkIxMC9dLFxuICAgIFsnV2luZG93cyBNb2JpbGUnLCAvSUVNb2JpbGUvXSxcbiAgICBbJ0FtYXpvbiBPUycsIC9LaW5kbGUvXSxcbiAgICBbJ1dpbmRvd3MgMy4xMScsIC9XaW4xNi9dLFxuICAgIFsnV2luZG93cyA5NScsIC8oV2luZG93cyA5NSl8KFdpbjk1KXwoV2luZG93c185NSkvXSxcbiAgICBbJ1dpbmRvd3MgOTgnLCAvKFdpbmRvd3MgOTgpfChXaW45OCkvXSxcbiAgICBbJ1dpbmRvd3MgMjAwMCcsIC8oV2luZG93cyBOVCA1LjApfChXaW5kb3dzIDIwMDApL10sXG4gICAgWydXaW5kb3dzIFhQJywgLyhXaW5kb3dzIE5UIDUuMSl8KFdpbmRvd3MgWFApL10sXG4gICAgWydXaW5kb3dzIFNlcnZlciAyMDAzJywgLyhXaW5kb3dzIE5UIDUuMikvXSxcbiAgICBbJ1dpbmRvd3MgVmlzdGEnLCAvKFdpbmRvd3MgTlQgNi4wKS9dLFxuICAgIFsnV2luZG93cyA3JywgLyhXaW5kb3dzIE5UIDYuMSkvXSxcbiAgICBbJ1dpbmRvd3MgOCcsIC8oV2luZG93cyBOVCA2LjIpL10sXG4gICAgWydXaW5kb3dzIDguMScsIC8oV2luZG93cyBOVCA2LjMpL10sXG4gICAgWydXaW5kb3dzIDEwJywgLyhXaW5kb3dzIE5UIDEwLjApL10sXG4gICAgWydXaW5kb3dzIE1FJywgL1dpbmRvd3MgTUUvXSxcbiAgICBbJ09wZW4gQlNEJywgL09wZW5CU0QvXSxcbiAgICBbJ1N1biBPUycsIC9TdW5PUy9dLFxuICAgIFsnQ2hyb21lIE9TJywgL0NyT1MvXSxcbiAgICBbJ0xpbnV4JywgLyhMaW51eCl8KFgxMSkvXSxcbiAgICBbJ01hYyBPUycsIC8oTWFjX1Bvd2VyUEMpfChNYWNpbnRvc2gpL10sXG4gICAgWydRTlgnLCAvUU5YL10sXG4gICAgWydCZU9TJywgL0JlT1MvXSxcbiAgICBbJ09TLzInLCAvT1NcXC8yL10sXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdCh1c2VyQWdlbnQpIHtcbiAgICBpZiAoISF1c2VyQWdlbnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlVXNlckFnZW50KHVzZXJBZ2VudCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVhY3ROYXRpdmVJbmZvKCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gcGFyc2VVc2VyQWdlbnQobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgfVxuICAgIHJldHVybiBnZXROb2RlVmVyc2lvbigpO1xufVxuZnVuY3Rpb24gbWF0Y2hVc2VyQWdlbnQodWEpIHtcbiAgICAvLyBvcHRlZCBmb3IgdXNpbmcgcmVkdWNlIGhlcmUgcmF0aGVyIHRoYW4gQXJyYXkjZmlyc3Qgd2l0aCBhIHJlZ2V4LnRlc3QgY2FsbFxuICAgIC8vIHRoaXMgaXMgcHJpbWFyaWx5IGJlY2F1c2UgdXNpbmcgdGhlIHJlZHVjZSB3ZSBvbmx5IHBlcmZvcm0gdGhlIHJlZ2V4XG4gICAgLy8gZXhlY3V0aW9uIG9uY2UgcmF0aGVyIHRoYW4gb25jZSBmb3IgdGhlIHRlc3QgYW5kIGZvciB0aGUgZXhlYyBhZ2FpbiBiZWxvd1xuICAgIC8vIHByb2JhYmx5IHNvbWV0aGluZyB0aGF0IG5lZWRzIHRvIGJlIGJlbmNobWFya2VkIHRob3VnaFxuICAgIHJldHVybiAodWEgIT09ICcnICYmXG4gICAgICAgIHVzZXJBZ2VudFJ1bGVzLnJlZHVjZShmdW5jdGlvbiAobWF0Y2hlZCwgX2EpIHtcbiAgICAgICAgICAgIHZhciBicm93c2VyID0gX2FbMF0sIHJlZ2V4ID0gX2FbMV07XG4gICAgICAgICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHVhTWF0Y2ggPSByZWdleC5leGVjKHVhKTtcbiAgICAgICAgICAgIHJldHVybiAhIXVhTWF0Y2ggJiYgW2Jyb3dzZXIsIHVhTWF0Y2hdO1xuICAgICAgICB9LCBmYWxzZSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJyb3dzZXJOYW1lKHVhKSB7XG4gICAgdmFyIGRhdGEgPSBtYXRjaFVzZXJBZ2VudCh1YSk7XG4gICAgcmV0dXJuIGRhdGEgPyBkYXRhWzBdIDogbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVzZXJBZ2VudCh1YSkge1xuICAgIHZhciBtYXRjaGVkUnVsZSA9IG1hdGNoVXNlckFnZW50KHVhKTtcbiAgICBpZiAoIW1hdGNoZWRSdWxlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgbmFtZSA9IG1hdGNoZWRSdWxlWzBdLCBtYXRjaCA9IG1hdGNoZWRSdWxlWzFdO1xuICAgIGlmIChuYW1lID09PSAnc2VhcmNoYm90Jykge1xuICAgICAgICByZXR1cm4gbmV3IEJvdEluZm8oKTtcbiAgICB9XG4gICAgLy8gRG8gbm90IHVzZSBSZWdFeHAgZm9yIHNwbGl0IG9wZXJhdGlvbiBhcyBzb21lIGJyb3dzZXIgZG8gbm90IHN1cHBvcnQgaXQgKFNlZTogaHR0cDovL2Jsb2cuc3RldmVubGV2aXRoYW4uY29tL2FyY2hpdmVzL2Nyb3NzLWJyb3dzZXItc3BsaXQpXG4gICAgdmFyIHZlcnNpb25QYXJ0cyA9IG1hdGNoWzFdICYmIG1hdGNoWzFdLnNwbGl0KCcuJykuam9pbignXycpLnNwbGl0KCdfJykuc2xpY2UoMCwgMyk7XG4gICAgaWYgKHZlcnNpb25QYXJ0cykge1xuICAgICAgICBpZiAodmVyc2lvblBhcnRzLmxlbmd0aCA8IFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMpIHtcbiAgICAgICAgICAgIHZlcnNpb25QYXJ0cyA9IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgdmVyc2lvblBhcnRzLCB0cnVlKSwgY3JlYXRlVmVyc2lvblBhcnRzKFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMgLSB2ZXJzaW9uUGFydHMubGVuZ3RoKSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZlcnNpb25QYXJ0cyA9IFtdO1xuICAgIH1cbiAgICB2YXIgdmVyc2lvbiA9IHZlcnNpb25QYXJ0cy5qb2luKCcuJyk7XG4gICAgdmFyIG9zID0gZGV0ZWN0T1ModWEpO1xuICAgIHZhciBzZWFyY2hCb3RNYXRjaCA9IFNFQVJDSEJPVF9PU19SRUdFWC5leGVjKHVhKTtcbiAgICBpZiAoc2VhcmNoQm90TWF0Y2ggJiYgc2VhcmNoQm90TWF0Y2hbMV0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWFyY2hCb3REZXZpY2VJbmZvKG5hbWUsIHZlcnNpb24sIG9zLCBzZWFyY2hCb3RNYXRjaFsxXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQnJvd3NlckluZm8obmFtZSwgdmVyc2lvbiwgb3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdE9TKHVhKSB7XG4gICAgZm9yICh2YXIgaWkgPSAwLCBjb3VudCA9IG9wZXJhdGluZ1N5c3RlbVJ1bGVzLmxlbmd0aDsgaWkgPCBjb3VudDsgaWkrKykge1xuICAgICAgICB2YXIgX2EgPSBvcGVyYXRpbmdTeXN0ZW1SdWxlc1tpaV0sIG9zID0gX2FbMF0sIHJlZ2V4ID0gX2FbMV07XG4gICAgICAgIHZhciBtYXRjaCA9IHJlZ2V4LmV4ZWModWEpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBvcztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVmVyc2lvbigpIHtcbiAgICB2YXIgaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MudmVyc2lvbjtcbiAgICByZXR1cm4gaXNOb2RlID8gbmV3IE5vZGVJbmZvKHByb2Nlc3MudmVyc2lvbi5zbGljZSgxKSkgOiBudWxsO1xufVxuZnVuY3Rpb24gY3JlYXRlVmVyc2lvblBhcnRzKGNvdW50KSB7XG4gICAgdmFyIG91dHB1dCA9IFtdO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBjb3VudDsgaWkrKykge1xuICAgICAgICBvdXRwdXQucHVzaCgnMCcpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuIiwiaW1wb3J0IHsgVGF0ZWdha2kgfSBmcm9tICcuL3RhdGVnYWtpJ1xuaW1wb3J0IHsgZGV0ZWN0IH0gZnJvbSAnZGV0ZWN0LWJyb3dzZXInXG5cbmNvbnN0IGJyb3dzZXIgPSBkZXRlY3QoKVxuaWYgKGJyb3dzZXIpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoYnJvd3Nlci5uYW1lKVxufVxuXG5sZXQga2FrdSA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGF0ZWdha2knKSlcbmtha3UuZm9yRWFjaChrID0+IHtcbiAgICBsZXQgdGF0ZWdha2kgPSBuZXcgVGF0ZWdha2koaywgdHJ1ZSwgdHJ1ZSwgdHJ1ZSlcblxuICAgIHRhdGVnYWtpLnBhcnNlKClcbn0pXG4iXSwibmFtZXMiOlsiU3RyaW5nRm9ybWF0R3VpZGUiLCJTdHJpbmciLCJwcm90b3R5cGUiLCJzZWdtZW50aXNlIiwicmUiLCJtYXRjaCIsInN0ciIsInRoaXMiLCJzZWdtZW50cyIsImluZGV4IiwiZXhlYyIsImZvcm1hdEd1aWRlIiwicHVzaCIsImNvbnRlbnQiLCJzdWJzdHJpbmciLCJhbWJpZ3VvdXMiLCJjamtQdW5jIiwiZnVsbHdpZHRoQWxwaGFiZXQiLCJsYXRpbiIsImthbmEiLCJsZW5ndGgiLCJUYXRlZ2FraSIsInJvb3RFbGVtZW50Iiwic2hvdWxkUGNTIiwiaW1pdGF0ZVBjUyIsImltaXRhdGVUcmFuc2Zyb21Ub0Z1bGxXaWR0aCIsInNob3VsZFJlbW92ZVN0eWxlIiwic2V0RWxlbWVudEF0dHJpYnV0ZXMiLCJlbGVtZW50Iiwic2VnbWVudCIsImlubmVySFRNTCIsInBvc3RQcm9jZXNzIiwic2V0QXR0cmlidXRlIiwic3F1ZWV6ZSIsImNsYXNzTGlzdCIsImFkZCIsInRleHQiLCJyZXBsYWNlIiwiZm9ybWF0Iiwibm9kZSIsInBhc3NVbnRpbFBhcmEiLCJub2RlVHlwZSIsIk5vZGUiLCJURVhUX05PREUiLCJub2RlVmFsdWUiLCJ0cmltIiwiY29ycmVjdFB1bmNzIiwicGFyZW50RWxlbWVudCIsImNoaWxkRWxlbWVudENvdW50IiwiZm9yRWFjaCIsInN1YkVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lclRleHQiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsIm5vZGVOYW1lIiwiaXNQYXJhIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGROb2RlcyIsImNoaWxkTm9kZSIsInJlbW92ZVN0eWxlIiwicmVtb3ZlQXR0cmlidXRlIiwiY2hpbGRyZW4iLCJjaGlsZCIsInB1bmNzIiwic3BsaXQiLCJtYXAiLCJwdW5jIiwidGVzdCIsImlzT3BlbmluZ0JyYWNrZXQiLCJjaGFyQ29kZUF0IiwicmVzdWx0Iiwiam9pbiIsInRyYW5zZnJvbVRvRnVsbFdpZHRoIiwieCIsImJhc2UiLCJuZXdCYXNlIiwiY3VycmVudCIsImZyb21DaGFyQ29kZSIsInRjeSIsImRvY3VtZW50RWxlbWVudCIsImZvbnRTaXplUmF3Iiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImZvbnRTaXplIiwicGFyc2VJbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImNvbnRhaW5zIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwicmVtb3ZlIiwibWF0Y2hlcyIsIm5ld0VsZW1lbnQiLCJkaWdpdCIsInJlcGxhY2VXaXRoIiwidGhyZXNob2xkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwiY29ycmVjdEFtYmlndW91cyIsInBhcnNlIiwiY29uc3RydWN0b3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJwYWNrIiwiYXJndW1lbnRzIiwiYXIiLCJpIiwibCIsInNsaWNlIiwiY2FsbCIsImNvbmNhdCIsIkJyb3dzZXJJbmZvIiwibmFtZSIsInZlcnNpb24iLCJvcyIsInR5cGUiLCJTZWFyY2hCb3REZXZpY2VJbmZvIiwiYm90IiwiQm90SW5mbyIsIlNFQVJDSEJPVF9PU19SRUdFWCIsInVzZXJBZ2VudFJ1bGVzIiwib3BlcmF0aW5nU3lzdGVtUnVsZXMiLCJwYXJzZVVzZXJBZ2VudCIsInVhIiwibWF0Y2hlZFJ1bGUiLCJyZWR1Y2UiLCJtYXRjaGVkIiwiX2EiLCJicm93c2VyIiwicmVnZXgiLCJ1YU1hdGNoIiwibWF0Y2hVc2VyQWdlbnQiLCJ2ZXJzaW9uUGFydHMiLCJjb3VudCIsIm91dHB1dCIsImlpIiwiY3JlYXRlVmVyc2lvblBhcnRzIiwiZGV0ZWN0T1MiLCJzZWFyY2hCb3RNYXRjaCIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ1c2VyQWdlbnQiLCJwcm9jZXNzIiwicGxhdGZvcm0iLCJib2R5IiwiayJdLCJzb3VyY2VSb290IjoiIn0=